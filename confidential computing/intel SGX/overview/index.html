<!doctype html><html lang=en-US><head><meta charset=utf-8><meta content="ie=edge" http-equiv=x-ua-compatible><meta content="width=device-width,initial-scale=1,shrink-to-fit=no" name=viewport><link href=https://phlip9.com/notes/main.css rel=stylesheet><meta content="index, follow" name=robots><meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name=googlebot><meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name=bingbot><title>overview | philip's notes</title><meta content="a collection of my notes" name=description><link href="https://phlip9.com/notes/confidential computing/intel SGX/overview/" rel=canonical><meta content=summary name=twitter:card><meta content=overview name=twitter:title><meta content=@phlip9 name=twitter:site><meta content=@phlip9 name=twitter:creator><meta content=overview property=og:title><meta content="a collection of my notes" property=og:description><meta content=article property=og:type><meta content="https://phlip9.com/notes/confidential computing/intel SGX/overview/" property=og:url><meta content=2024-10-21T04:08:44.982615 property=og:updated_time><meta content="philip's notes" property=og:site_name><meta content=en_US property=og:locale><script type=application/ld+json>
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "/confidential computing/intel SGX/overview/"
    },
    "headline": "overview",
    "image": ,
    "datePublished": "2022-02-13",
    "dateModified": "2024-10-21",
    "author": {
      "@type": "Person",
      "name": "Philip Hayes"
    },
    "publisher": {
      "@type": "Person",
      "name": "Philip Hayes",
      
    },
    "description": "a collection of my notes"
  }
  </script><script type=application/ld+json>
  {
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    
      
      
        
        
        
        
        
        
        
        
          {
            "@type": "ListItem",
            "position":  1 ,
            "name": "Home",
            "item": "https://phlip9.com/notes/"
          },
          
          
          {
            "@type": "ListItem",
            "position":  2 ,
            "name": "Confidential Computing",
            "item": "https://phlip9.com/notes/confidential computing/"
          },
        
      
        
        
        
        
        
        
        
        
          
          
          {
            "@type": "ListItem",
            "position":  3 ,
            "name": "Intel Sgx",
            "item": "https://phlip9.com/notes/confidential computing/intel SGX/"
          },
        
      
        
        
        
        
        
        
        
        
          
          
          {
            "@type": "ListItem",
            "position":  4 ,
            "name": "Overview",
            "item": "https://phlip9.com/notes/confidential computing/intel SGX/overview/"
          },
        
      
    
  }
</script><meta content=#383866 name=theme-color><link href=https://phlip9.com/notes/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=https://phlip9.com/notes/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=https://phlip9.com/notes/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=https://phlip9.com/notes/site.webmanifest rel=manifest><script>// https://mathjax.github.io/MathJax-demos-web/convert-configuration/convert-configuration.html
        window.MathJax = {
          tex: {
            inlineMath: [
              ['$', '$']
            ],
            displayMath: [
              ['$$', '$$'],
              ['\\[', '\\]']
            ],
            processEscapes: true,
            processEnvironments: true,
          },
          options: {
            skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
          }
        };</script><script integrity="sha256-z47L98YXVhVIaY0uyDzt675P5Ea+w3RsPh9VD5NuoTY=" async crossorigin=anonymous defer id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-chtml.js></script><body class="notes single dark"><div class=container role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 notes-sidebar"><nav aria-label="Main navigation" class=notes-links><a class="navbar-brand link-internal" href=https://phlip9.com/notes/> philip's notes </a><a class="notes-link sidebar-social" href=https://twitter.com/phlip9> <svg class="feather feather-twitter" viewbox="0 0 24 24" fill=none height=20 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=20 xmlns=http://www.w3.org/2000/svg><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg> <span class=visually-hidden>Twitter</span> </a><a class="notes-link sidebar-social" href=https://github.com/phlip9> <svg class="feather feather-github" viewbox="0 0 24 24" fill=none height=20 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=20 xmlns=http://www.w3.org/2000/svg><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg> <span class=visually-hidden>GitHub</span> </a><a class="notes-link sidebar-social" href=# id=sidebar-open-search> <svg aria-labelledby="title desc" viewbox="0 0 19.9 19.7" fill=none height=20 id=search-icon role=img stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 tabindex=0 width=20 xmlns=http://www.w3.org/2000/svg> <g class=search-path><path d="M18.5 18.3l-5.4-5.4"></path><circle cx=8 cy=8 r=7></circle> </g> </svg> </a><hr><ol id=sidebar-tree-root><li><input id=sidebar-input-ai-ml type=checkbox> <label class=h3 for=sidebar-input-ai-ml>AI ML</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/AI ML/Expectimax Search/"> Expectimax Search </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/AI ML/Markov Decision Process (MDP)/"> Markov Decision Process (MDP) </a></ol><li><input id=sidebar-input-wsl type=checkbox> <label class=h3 for=sidebar-input-wsl>WSL</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/WSL/WSL2 custom kernel/"> WSL2 custom kernel </a></ol><li><li><input id=sidebar-input-android type=checkbox> <label class=h3 for=sidebar-input-android>android</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/android/ADB over TCP inside WSL2/"> ADB over TCP inside WSL2 </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/android/OTA updates for rooted android phone/"> OTA updates for rooted android phone </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/android/android cli setup/"> android cli setup </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/android/building signal-android in WSL2/"> building signal-android in WSL2 </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/android/linux ADB udev setup/"> linux ADB udev setup </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/android/root phone with magisk/"> root phone with magisk </a></ol><li><input id=sidebar-input-b-i-g-m-o-n-e-y-l-a-w-r-e-g-u-l-a-t-i-o-n type=checkbox> <label class=h3 for=sidebar-input-b-i-g-m-o-n-e-y-l-a-w-r-e-g-u-l-a-t-i-o-n>b i g m o n e y l a w r e g u l a t i o n</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/b i g m o n e y l a w r e g u l a t i o n/financial instituion/"> financial instituion </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/b i g m o n e y l a w r e g u l a t i o n/foreign bank account report (FBAR)/"> foreign bank account report (FBAR) </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/b i g m o n e y l a w r e g u l a t i o n/monetary instruments/"> monetary instruments </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/b i g m o n e y l a w r e g u l a t i o n/money services business (MSB)/"> money services business (MSB) </a></ol><li><input id=sidebar-input-b-l-o-c-k-c-h-a-i-n type=checkbox> <label class=h3 for=sidebar-input-b-l-o-c-k-c-h-a-i-n>b l o c k c h a i n</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/b l o c k c h a i n/aptos/"> aptos </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/b l o c k c h a i n/bip158 - compact block filters/"> bip158 - compact block filters </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/b l o c k c h a i n/btc utreexo - utxo accumulator/"> btc utreexo - utxo accumulator </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/b l o c k c h a i n/fastpay/"> fastpay </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/b l o c k c h a i n/oasis/"> oasis </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/b l o c k c h a i n/sui/"> sui </a></ol><li><input id=sidebar-input-btc-ln type=checkbox> <label class=h3 for=sidebar-input-btc-ln>btc-ln</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/BOLT 11 - invoices/"> BOLT 11 - invoices </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/BOLT 2 - channel management protocol/"> BOLT 2 - channel management protocol </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/BOLT 4 - onion routing protocol/"> BOLT 4 - onion routing protocol </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/BOLT 7 - p2p node and channel discovery/"> BOLT 7 - p2p node and channel discovery </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/BOLT 8 - secure noise transport/"> BOLT 8 - secure noise transport </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/atomic multipath payments (AMP)/"> atomic multipath payments (AMP) </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/breez lightning service providers/"> breez lightning service providers </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/hosted channels/"> hosted channels </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/lightning libs/"> lightning libs </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/lightning network notes/"> lightning network notes </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/lightning rod/"> lightning rod </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/lightningdevkit - rust-lightning/"> lightningdevkit - rust-lightning </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/submarine swaps/"> submarine swaps </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/zero-conf channels/"> zero-conf channels </a></ol><li><input id=sidebar-input-combinatorics type=checkbox> <label class=h3 for=sidebar-input-combinatorics>combinatorics</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/combinatorics/k-combinations of a multiset/"> k-combinations of a multiset </a></ol><li><input checked id=sidebar-input-confidential-computing type=checkbox> <label class=h3 for=sidebar-input-confidential-computing>confidential computing</label> <ol><li><input checked id=sidebar-input-confidential-computing-intel-sgx type=checkbox> <label class=h3 for=sidebar-input-confidential-computing-intel-sgx>intel SGX</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/intel SGX/SGX lingo/"> SGX lingo </a><li class=sidebar-note><a class="notes-link link-internal active" href="https://phlip9.com/notes/confidential computing/intel SGX/overview/"> overview </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/intel SGX/remote attestation/"> remote attestation </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/intel SGX/sealing/"> sealing </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/intel SGX/secure time/"> secure time </a></ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/enarx (WASM TEE)/"> enarx (WASM TEE) </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/fortanix rust tutorial/"> fortanix rust tutorial </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/gramine/"> gramine </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/intel TDX/"> intel TDX </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/marblerun/"> marblerun </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/mystikos/"> mystikos </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/remote attestation protocols/"> remote attestation protocols </a></ol><li><input id=sidebar-input-crypto type=checkbox> <label class=h3 for=sidebar-input-crypto>crypto</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/crypto/(talk) authenticated data structures for stateless validation/"> (talk) authenticated data structures for stateless validation </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/crypto/TLS self-signed pubkey-only certs/"> TLS self-signed pubkey-only certs </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/crypto/acme protocol/"> acme protocol </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/crypto/biscuit authz/"> biscuit authz </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/crypto/dex - open-source OIDC & OAuth 2.0 provider/"> dex - open-source OIDC & OAuth 2.0 provider </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/crypto/hkdf-sha256/> hkdf-sha256 </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/crypto/smallstep - private online CA & ACME server/"> smallstep - private online CA & ACME server </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/crypto/tls exported keying material/"> tls exported keying material </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/crypto/zkdocs/> zkdocs </a></ol><li><input id=sidebar-input-design type=checkbox> <label class=h3 for=sidebar-input-design>design</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/design/form design/"> form design </a></ol><li><input id=sidebar-input-devops type=checkbox> <label class=h3 for=sidebar-input-devops>devops</label> <ol><li><input id=sidebar-input-devops-o11y type=checkbox> <label class=h3 for=sidebar-input-devops-o11y>o11y</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/o11y/jaeger oss e2e tracing/"> jaeger oss e2e tracing </a></ol><li><input id=sidebar-input-devops-secrets type=checkbox> <label class=h3 for=sidebar-input-devops-secrets>secrets</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/secrets/1password - secrets automation/"> 1password - secrets automation </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/devops/secrets/doppler/> doppler </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/secrets/ejson (Shopify)/"> ejson (Shopify) </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/secrets/ejson-kms (AWS)/"> ejson-kms (AWS) </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/devops/secrets/envkey/> envkey </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/secrets/fortanix DSM/"> fortanix DSM </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/secrets/mozilla SOPS/"> mozilla SOPS </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/devops/secrets/sops-nix/> sops-nix </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/secrets/sy - share secrets safely/"> sy - share secrets safely </a></ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/AKS - azure kubernetes service/"> AKS - azure kubernetes service </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/algo wireguard VPN server/"> algo wireguard VPN server </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/azure CLI/"> azure CLI </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/devops/consul/> consul </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/deployment strategies/"> deployment strategies </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/docker compose/"> docker compose </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/devops/k3s/> k3s </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/kind (kubernetes in docker)/"> kind (kubernetes in docker) </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/devops/kubernetes/> kubernetes </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/devops/linkerd/> linkerd </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/devops/minikube/> minikube </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/devops/nomad/> nomad </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/service mesh/"> service mesh </a></ol><li><input id=sidebar-input-distributed-systems type=checkbox> <label class=h3 for=sidebar-input-distributed-systems>distributed systems</label> <ol><li><input id=sidebar-input-distributed-systems-papers type=checkbox> <label class=h3 for=sidebar-input-distributed-systems-papers>papers</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/distributed systems/papers/(2020) Semi-Fast Byzantine-tolerant Shared Register without Reliable Broadcast/"> (2020) Semi-Fast Byzantine-tolerant Shared Register without Reliable Broadcast </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/distributed systems/papers/(2021) Leaderless Consensus/"> (2021) Leaderless Consensus </a></ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/distributed systems/the siren song of backpressure/"> the siren song of backpressure </a></ol><li><input id=sidebar-input-fuzzing type=checkbox> <label class=h3 for=sidebar-input-fuzzing>fuzzing</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/fuzzing/bolero - fuzzing + property testing/"> bolero - fuzzing + property testing </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/fuzzing/fuzzcheck-rs/> fuzzcheck-rs </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/fuzzing/fuzzing/> fuzzing </a></ol><li><input id=sidebar-input-ios type=checkbox> <label class=h3 for=sidebar-input-ios>ios</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/ios/ios setup/"> ios setup </a></ol><li><input id=sidebar-input-keyboards type=checkbox> <label class=h3 for=sidebar-input-keyboards>keyboards</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/keyboards/moergo glove80/"> moergo glove80 </a></ol><li><input id=sidebar-input-lang type=checkbox> <label class=h3 for=sidebar-input-lang>lang</label> <ol><li><input id=sidebar-input-lang-ats type=checkbox> <label class=h3 for=sidebar-input-lang-ats>ATS</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/ATS/ATS2 Notes/"> ATS2 Notes </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/ATS/Install ATS2/"> Install ATS2 </a></ol><li><input id=sidebar-input-lang-flutter type=checkbox> <label class=h3 for=sidebar-input-lang-flutter>flutter</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/flutter/dart lang/"> dart lang </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/flutter/flutter setup/"> flutter setup </a></ol><li><input id=sidebar-input-lang-rust type=checkbox> <label class=h3 for=sidebar-input-lang-rust>rust</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/rust/optimizing binary size/"> optimizing binary size </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/rust/rr with rust/"> rr with rust </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/rust/rust verification tools/"> rust verification tools </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/rust/rust x SGX/"> rust x SGX </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/rust/self-referencing structs/"> self-referencing structs </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/rust/sycamore x futures/"> sycamore x futures </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/rust/understanding sycamore reactivity/"> understanding sycamore reactivity </a></ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/gdb ref/"> gdb ref </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/lang/koka-lang/> koka-lang </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/lang/lua/> lua </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/operator fixity and precedence/"> operator fixity and precedence </a></ol><li><input id=sidebar-input-management type=checkbox> <label class=h3 for=sidebar-input-management>management</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/management/relieve often - why generals were more successful in WWII/"> relieve often - why generals were more successful in WWII </a></ol><li><input id=sidebar-input-misc type=checkbox> <label class=h3 for=sidebar-input-misc>misc</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/misc/arm target triples/"> arm target triples </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/misc/envsubst/> envsubst </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/misc/git multirepo to monorepo/"> git multirepo to monorepo </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/misc/kintsugi/> kintsugi </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/misc/optimization solvers/"> optimization solvers </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/misc/pop_OS! tweaks/"> pop_OS! tweaks </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/misc/prepping RPI for embedded dev/"> prepping RPI for embedded dev </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/misc/rgbxmas/> rgbxmas </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/misc/scanning QR codes on desktop/"> scanning QR codes on desktop </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/misc/setting up a headless raspbian boot image/"> setting up a headless raspbian boot image </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/misc/uptime to downtime conversion/"> uptime to downtime conversion </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/misc/water distillation setup/"> water distillation setup </a></ol><li><input id=sidebar-input-networking type=checkbox> <label class=h3 for=sidebar-input-networking>networking</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/networking/CIDR/> CIDR </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/networking/ipv6 address space/"> ipv6 address space </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/networking/network interface card (NIC)/"> network interface card (NIC) </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/networking/network interfaces/"> network interfaces </a></ol><li><input id=sidebar-input-nvim type=checkbox> <label class=h3 for=sidebar-input-nvim>nvim</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/nvim/universal-ctags Notes/"> universal-ctags Notes </a></ol><li><input id=sidebar-input-performance type=checkbox> <label class=h3 for=sidebar-input-performance>performance</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/performance/bit hacks/"> bit hacks </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/performance/dtrace on macOS/"> dtrace on macOS </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/performance/profiling/> profiling </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/performance/simdjson talk/"> simdjson talk </a></ol><li><input id=sidebar-input-postgres type=checkbox> <label class=h3 for=sidebar-input-postgres>postgres</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/postgres/postgres performance tuning/"> postgres performance tuning </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/postgres/snippets/> snippets </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/postgres/types of scans/"> types of scans </a></ol><li><input id=sidebar-input-reproducible-builds type=checkbox> <label class=h3 for=sidebar-input-reproducible-builds>reproducible builds</label> <ol><li><input id=sidebar-input-reproducible-builds-nix type=checkbox> <label class=h3 for=sidebar-input-reproducible-builds-nix>nix</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/reproducible builds/nix/links/"> links </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/reproducible builds/nix/nix auto-allocate-uids -> nixbld users/"> nix auto-allocate-uids -> nixbld users </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/reproducible builds/nix/nix debug broken package build/"> nix debug broken package build </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/reproducible builds/nix/nix debug spurrious rebuilds/"> nix debug spurrious rebuilds </a></ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/reproducible builds/earthly/"> earthly </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/reproducible builds/rebuilderd/"> rebuilderd </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/reproducible builds/reproducible-builds.org/"> reproducible-builds.org </a></ol><li><input id=sidebar-input-router type=checkbox> <label class=h3 for=sidebar-input-router>router</label> <ol><li><input id=sidebar-input-router-lightning-router type=checkbox> <label class=h3 for=sidebar-input-router-lightning-router>lightning router</label> <ol><li><input id=sidebar-input-router-lightning-router-captive-portal type=checkbox> <label class=h3 for=sidebar-input-router-lightning-router-captive-portal>captive portal</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/router/lightning router/captive portal/RFC 6585 (Additional HTTP Status Codes)/"> RFC 6585 (Additional HTTP Status Codes) </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/router/lightning router/captive portal/arubanetworks captive portal/"> arubanetworks captive portal </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/router/lightning router/captive portal/captive portal/"> captive portal </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/router/lightning router/captive portal/captive portal (wikipedia)/"> captive portal (wikipedia) </a></ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/router/lightning router/lightning router overview/"> lightning router overview </a></ol></ol><li><input id=sidebar-input-statistics-probability type=checkbox> <label class=h3 for=sidebar-input-statistics-probability>statistics probability</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/CDF confidence bands - DKW inequality/"> CDF confidence bands - DKW inequality </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/G-test - multinomial goodness-of-fit/"> G-test - multinomial goodness-of-fit </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/MAD - median absolute deviation/"> MAD - median absolute deviation </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/cheat sheet/"> cheat sheet </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/herbie - float error fixer/"> herbie - float error fixer </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/kelly criterion + ELO/"> kelly criterion + ELO </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/multinomial distribution/"> multinomial distribution </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/p-value/"> p-value </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/standard error/"> standard error </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/testing whether a coin is fair/"> testing whether a coin is fair </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/winsorize/"> winsorize </a></ol></ol></nav></div><nav aria-label="Secondary navigation" class="notes-toc d-none d-xl-block col-xl-4"><div class=page-links><h3 class=text-muted>on this page</h3><nav id=table-of-contents><ul><li><a href="https://phlip9.com/notes/confidential computing/intel SGX/overview/#intel-sgx-overview" class=link-internal>intel SGX - overview</a> <ul><li><a href="https://phlip9.com/notes/confidential computing/intel SGX/overview/#security-limitations" class=link-internal>Security Limitations</a><li><a href="https://phlip9.com/notes/confidential computing/intel SGX/overview/#application-design" class=link-internal>Application Design</a><li><a href="https://phlip9.com/notes/confidential computing/intel SGX/overview/#attestation" class=link-internal>Attestation</a><li><a href="https://phlip9.com/notes/confidential computing/intel SGX/overview/#sealing" class=link-internal>Sealing</a><li><a href="https://phlip9.com/notes/confidential computing/intel SGX/overview/#hardware-requirements" class=link-internal>Hardware Requirements</a><li><a href="https://phlip9.com/notes/confidential computing/intel SGX/overview/#performance-overhead" class=link-internal>Performance Overhead</a><li><a href="https://phlip9.com/notes/confidential computing/intel SGX/overview/#enclave-signing" class=link-internal>Enclave Signing</a> <ul><li><a href="https://phlip9.com/notes/confidential computing/intel SGX/overview/#why-is-signing-required" class=link-internal>Why is signing required?</a></ul><li><a href="https://phlip9.com/notes/confidential computing/intel SGX/overview/#hosted-sgx" class=link-internal>Hosted SGX</a> <ul><li><a href="https://phlip9.com/notes/confidential computing/intel SGX/overview/#azure" class=link-internal>Azure</a><li><a href="https://phlip9.com/notes/confidential computing/intel SGX/overview/#google-cloud" class=link-internal>Google Cloud</a><li><a href="https://phlip9.com/notes/confidential computing/intel SGX/overview/#cloud-vendor-support-table" class=link-internal>Cloud Vendor Support Table</a></ul><li><a href="https://phlip9.com/notes/confidential computing/intel SGX/overview/#hardware-that-supports-intel-sgx" class=link-internal>Hardware that supports Intel SGX</a> <ul><li><a href="https://phlip9.com/notes/confidential computing/intel SGX/overview/#desktop-hardware-skus" class=link-internal>Desktop Hardware SKUs</a></ul></ul></ul></nav></div></nav><main class="notes-content tags-content col-lg-11 col-xl-8"><h1 id=intel-sgx-overview>intel SGX - overview</h1><p class=text-muted>2022-02-13 · 12 min read<ul class=tags><li><a class="btn btn-outline-primary btn-sm link-internal" href=https://phlip9.com/notes/tags/confidential-computing/>#confidential-computing</a><li><a class="btn btn-outline-primary btn-sm link-internal" href=https://phlip9.com/notes/tags/sgx/>#sgx</a></ul><p>Wikipedia: <a href=https://www.wikiwand.com/en/Software_Guard_Extensions>https://www.wikiwand.com/en/Software_Guard_Extensions</a><blockquote><p>They allow <a href=https://www.wikiwand.com/en/User-level title=User-level>user-level</a> as well as <a href=https://www.wikiwand.com/en/Operating_system>operating system</a> code to define private regions of memory, called <em>enclaves</em>, whose contents are protected and unable to be either read or saved by any process outside the enclave itself, including processes running at higher <a href=https://www.wikiwand.com/en/Privilege_level>privilege levels</a></blockquote><blockquote><p>Applications running inside of SGX must be written to be side channel resistant as SGX does not protect against side channel measurement or observation.</blockquote><blockquote><p>Enclaves cannot use sockets because enclaves rely on the untrusted application that loads the enclave to communicate with external components. Enclaves cannot create independent communication channels to outside entities. This would break their security and trust model. <a href=https://community.intel.com/t5/Intel-Software-Guard-Extensions/SGX-enclaves-and-sockets/td-p/1290387>source</a></blockquote><blockquote><ul><li><strong>Enclave memory cannot be read or written from outside the enclave</strong> regardless of the current privilege level and CPU mode.<li>Production enclaves cannot be debugged by software or hardware debuggers.<li>The enclave environment cannot be entered through classic function calls, jumps, register manipulation, or stack manipulation. <strong>The only way to call an enclave function is through a new instruction that performs several protection checks.</strong><li><strong>Enclave memory is encrypted</strong> using industry-standard encryption algorithms with replay protection. Tapping the memory or connecting the DRAM modules to another system will yield only encrypted data.<li>The memory encryption key randomly changes every power cycle. The key is stored within the CPU and is not accessible.<li>Data isolated within enclaves can only be accessed by code that shares the enclave.</ul></blockquote><p>See also <a href=https://sgx101.gitbook.io/sgx101/>SGX 101</a><ul><li>With SGX, your CPU comes with two new 128bit keys: <strong>RPK</strong> & <strong>RSK</strong><li><strong>RPK</strong>: Root Provisioning Key. <strong>Known only to Intel.</strong><li><strong>RSK</strong>: Root Sealing Key. Most derived keys based on RSK.<li>New DRAM key (derived from RSK?) every power cycle.<li><strong>Remote Attestation</strong> is enforced for the client to prove to the service provider that an enclave is running a given software, inside a given CPU, with a given security level, for a given Individual Software Vender (ISV). This is required before the service provider decides to provide requested secrets.<li><strong>Sealed Storage</strong> is required to <strong>save secret data to untrusted media.</strong> Note that <strong>data and code inside enclaves are not secrets</strong>. They are just logics that are required to process the secret and most of them are open sourced or can be reverse engineered. Therefore, secrets are provisioned later by the service provider and should be stored out of the enclave through sealing mechanism when necessary (e.g. for future usage).</ul><h3 id=security-limitations>Security Limitations <a aria-label="anchor link" class=anchor-link href=#security-limitations> # </a></h3><ul><li>Cache timing attacks<li>Physical attacks. E.g. laser fault injection attacks<li>Microcode malicious patching<li>Untrusted I/O<li>Human element. E.g. trusted development environment<li>CPU bugs and bugs in dependencies.</ul><h3 id=application-design>Application Design <a aria-label="anchor link" class=anchor-link href=#application-design> # </a></h3><p>Application design with Intel SGX requires that the application be divided into <strong>two components</strong>:<ul><li><p><strong>Trusted component:</strong> This is the enclave. The code that resides in the trusted code is the code that <strong>accesses an application’s secrets</strong>. An application can have more than one trusted component/enclave.</p><li><p><strong>Untrusted component:</strong> This is the rest of the application and any of its modules. It is important to note that, from the standpoint of an enclave, the OS and the VMM are considered untrusted components.</p><li><p>Fairly expensive to communicate back-and-forth (how much?)</p><li><p><strong>ECalls</strong> -> call into enclave</p><li><p><strong>OCalls</strong> -> call out to untrusted code</p><li><p>proxy generation via <strong>EDL</strong> (enclave description language)</p><li><p>specialized memory allocator. limitations on stack/heap sizes, threads, etc...</p><li><p><strong>Enclave runs concurrently</strong> with the OS. You start the enclave, and it runs in the background until you shut it down again.</p><li><p>Can read/write files O_o (<code>sgx_tprotected_fs</code>)</p><li><p>Need to declare # threads and stack/heap sizes up front.</p><li><p><a href="https://www.youtube.com/watch?v=bAYcZ2eAHkA">Video</a> uses lazy_static to save enclave state between ECalls : /</p></ul><h3 id=attestation>Attestation <a aria-label="anchor link" class=anchor-link href=#attestation> # </a></h3><p><img alt="Pasted image 20220213102656.png" src=../../../__pub/Pasted%20image%2020220213102656.png><h3 id=sealing>Sealing <a aria-label="anchor link" class=anchor-link href=#sealing> # </a></h3><p>Sealing is the process of <strong>encrypting data so that it can be written to untrusted memory or storage</strong> without revealing its contents. The data can be read back in by the enclave at a later date and unsealed (decrypted). The <strong>encryption keys are derived internally on demand and are not exposed to the enclave.</strong><p>There are two methods of sealing data:<ul><li><strong>Enclave Identity:</strong> This method produces a key that is <strong>unique</strong> to this exact enclave.<li><strong>Sealing Identity:</strong> This method produces a key that is <strong>based on the identity of the enclave’s Sealing Authority</strong>. Multiple enclaves from the same signing authority can derive the same key.</ul><h3 id=hardware-requirements>Hardware Requirements <a aria-label="anchor link" class=anchor-link href=#hardware-requirements> # </a></h3><ul><li>Intel CPU later than 2015+</ul><h3 id=performance-overhead>Performance Overhead <a aria-label="anchor link" class=anchor-link href=#performance-overhead> # </a></h3><p>calling some <code>max(&[u32])</code> function inside enclave.<p>source: <a href=https://medium.com/@danny_harnik/impressions-of-intel-sgx-performance-22442093595a>https://medium.com/@danny_harnik/impressions-of-intel-sgx-performance-22442093595a</a><p><img alt="SGX find_max bench" src=https://miro.medium.com/max/1400/1*GA3dYEmyHWuAZTssdXK28g.png><p><a href=https://www.ibr.cs.tu-bs.de/users/weichbr/papers/middleware2018.pdf>sgx-perf: A Performance Analysis Tool for Intel SGX Enclaves (2018)</a><blockquote><p>We measured transition times of ≈5,850 cycles (≈2.1 µs) with a warm cache for one round-trip (see §5 for the experimental settings). In the second case, we measured a transition time of ≈10,170 cycles (≈3.8 µs), ≈1.74× more than without patches. Finally, with all the updates and microcodes to address the Spectre and Foreshadow vulnerabilities enclave transitions became even slower, resulting in a round-trip time of ≈13,100 cycles (<strong>≈4.9 µs</strong>), ≈ 2.24× more. This further underlines the need to save on enclave transitions.</blockquote><p>About <strong>20,000 transitions/sec</strong>? per thread? overall?<blockquote><p><strong>In-Enclave Synchronisation:</strong> Enclaves can be multi-threaded and therefore need synchronisation primitives. Unfortunately, as <strong>sleeping is not possible inside enclaves</strong>, the in-enclave synchronisation primitives provided by the SGX SDK implement additional ocalls to sleep outside of the enclave.</blockquote><blockquote><p>The SDK offers mutexes that work as follows: if a thread tries to lock an unlocked mutex, then this operation succeeds without needing to leave the enclave. Whenever a <strong>thread tries to lock an already locked mutex, it will put itself into a queue and exit the enclave via an ocall to sleep</strong></blockquote><blockquote><p><strong>Enclave Paging:</strong> Another important factor for enclave performance is enclave size, especially the size of the working set. SGX stores all enclaves inside the EPC which on current implementations has a size of 128 MiB. Of those, <strong>93 MiB are usable</strong>.</blockquote><p>SGXv1 requires pre-declared limits on stack/heap allocations.<blockquote><p>With SGX v2, this becomes less of a problem, as the enclave can be extended after creation. Therefore, the enclave can be created small and as soon as stack or heap are exhausted, new pages may be added on-demand.</blockquote><p><img alt="Pasted image 20220213112512.png" src=../../../__pub/Pasted%20image%2020220213112512.png><h3 id=enclave-signing>Enclave Signing <a aria-label="anchor link" class=anchor-link href=#enclave-signing> # </a></h3><p><a href=https://docs.conclave.net/signing.html>https://docs.conclave.net/signing.html</a><p><strong>Enclaves must be signed.</strong> With <strong>modern SG</strong>X servers you <strong>may self-sign</strong> your enclaves, but, a signature is still required.<h4 id=why-is-signing-required>Why is signing required? <a aria-label="anchor link" class=anchor-link href=#why-is-signing-required> # </a></h4><p>Signing requirements are a part of the Intel SGX architecture. The enclave signature is used for two different purposes:<ol><li><strong>Linking different enclave versions together into an upgrade path</strong>, so <strong>new enclaves can decrypt data stored by or sent to old enclaves</strong>.<li>Authorising <strong>which enclaves can be executed</strong> on a host.</ol><p>Restricting which enclaves can launch on a host ensures that <strong>datacenter providers aren't hosting server processes they can't examine</strong> (??????) or turn over to law enforcement. It also makes it harder for people to <strong>write malware with un-debuggable cores</strong> (loooool), and is part of the privacy (anti-tracking) infrastructure in SGX.<p>Using signatures to link binaries into a single upgrade path is the <strong>same technique used by Android and iOS</strong> to <strong>move</strong> permissions and <strong>stored data from old to new apps</strong>.<p>Signing is also used to authorise which enclaves can start. By default Intel chips won't start an enclave unless it's signed by an Intel key, but this behaviour can be changed and on Azure (see <a href=https://docs.conclave.net/azure.html>"Deploying to Azure"</a>) enclaves can be self-signed. If you want to use older hardware getting whitelisted by Intel is free and can be done quickly. It's a similar process to getting an SSL certificate but using different tools.<p>On Xeon E CPUs with Intel FLC support in the chipset, and a recent enough kernel driver, the owner can add their own whitelisting authorities via BIOS/UEFI firmware settings. This means they can replace the default "must be approved by Intel" launch control logic with their own (which may e.g. only allow their own enclaves, or may allow any self-signed enclave).<h3 id=hosted-sgx>Hosted SGX <a aria-label="anchor link" class=anchor-link href=#hosted-sgx> # </a></h3><h4 id=azure>Azure <a aria-label="anchor link" class=anchor-link href=#azure> # </a></h4><p><a href=https://azure.microsoft.com/en-us/solutions/confidential-compute/>Azure Confidential Compute</a><p><strong>Pricing (2022/02/18):</strong><p><a href=https://azure.microsoft.com/en-us/pricing/details/virtual-machines/linux/>https://azure.microsoft.com/en-us/pricing/details/virtual-machines/linux/</a><p>Filters: US East 2 + grep "SGX"<p><strong>DCsv2- and DCdsv3-series</strong><p>The DCsv2-series virtual machines can help protect the confidentiality and integrity of your data and code while it’s processed in the public cloud. These machines are backed by <strong>3.7GHz Intel® Xeon E-2288G (Coffee Lake) with SGX</strong> technology. With the Intel® Turbo Boost Technology these machines can go up to 5.0GHz. DC series instances enable customers to build <strong>secure enclave-based applications</strong> to protect their code and data while it’s in use.<p>DCsv2-series is ideal for workloads that require smaller EPC (Enclave Page Cache) memory.<table><thead><tr><th>Instance<th>Cores<th>RAM<th>Temporary Storage<th>$/hr (useast2)<th>$/hr (uswest1)<tbody><tr><td>DC1s v2<td>1<td>4 GiB<td>50 GiB<td><td>$0.125/hr<tr><td>DC2s v2<td>2<td>8 GiB<td>100 GiB<td><td>$0.250/hr<tr><td>..<td><td><td><td><td><tr><td>DC8s v2<td>8<td>32 GiB<td>400 GiB<td><td>$0.998/hr</table><p><strong>DCsv3- and DCdsv3-series</strong><p>The DCsv3 and DCdsv3-series virtual machines run the <strong>3rd Generation Intel® Xeon Scalable (Ice Lake)</strong> processor with hyper-threading disabled for a hardened security posture. These VMs are designed to protect the confidentiality and integrity of your data in the cloud. Featuring Intel® <strong>SGX</strong> (Software Guard Extensions), customers can create private regions of memory, called enclaves, to protect code and data in use. <strong>DCsv3 and DCdsv3-series enables customers to up to 1500X larger enclaves</strong> than before.<table><thead><tr><th>Instance<th>Cores<th>RAM<th>Temporary Storage<th>$/hr (useast2)<th>$/hr (uswest1)<tbody><tr><td>DC1s v3<td>1<td>8 GiB<td>N/A<td>$0.096/hr<td>$0.125/hr<tr><td>DC2s v3<td>2<td>16 GiB<td>N/A<td>$0.192/hr<td>$0.250/hr<tr><td>..<td><td><td><td><td><tr><td>DC48s v3<td>48<td>384 GiB<td>N/A<td>$4.608/hr<td>$5.990/hr<tr><td><td><td><td><td><td><tr><td>DC1ds v3<td>1<td>8 GiB<td>75 GiB<td>$0.113/hr<td>$0.147/hr<tr><td>DC2ds v3<td>2<td>16 GiB<td>150 GiB<td>$0.226/hr<td>$0.294/hr<tr><td>..<td><td><td><td><td><tr><td>DC48ds v3<td>48<td>384 GiB<td>2400 GiB<td>$5.424/hr<td>$7.051/hr<tr><td><td><td><td><td><td></table><h4 id=google-cloud>Google Cloud <a aria-label="anchor link" class=anchor-link href=#google-cloud> # </a></h4><p><a href=https://cloud.google.com/confidential-computing>Google Cloud Confidential Compute</a><h4 id=cloud-vendor-support-table>Cloud Vendor Support Table <a aria-label="anchor link" class=anchor-link href=#cloud-vendor-support-table> # </a></h4><blockquote><p>Packet.net, IBM and Alibaba have Bare Metal Instances available that allow the execution of SGX instructions to create secure enclaves in the cloud. See <a href=https://www.ibm.com/blogs/bluemix/2018/05/data-use-protection-ibm-cloud-using-intel-sgx/>IBM Cloud Bare Metal Instances</a> and <a href=https://www.alibabacloud.com/product/ebm>Alibaba ECS Bare Metal Instance</a>. If you were able to experiment with SGX in the Cloud, please let us know!<p>Both <a href=https://github.com/ayeks/SGX-hardware/issues/37>AWS</a> and <a href=https://github.com/ayeks/SGX-hardware/issues/38>Google</a> have CPUs that capable of SGX but the execution is disabled. We discussed that into detail <a href=https://github.com/ayeks/SGX-hardware/issues/37>here</a>. According to a <a href=https://software.intel.com/en-us/forums/intel-software-guard-extensions-intel-sgx/topic/755636>Intel forum post</a>.</blockquote><table><thead><tr><th>Vendor<th>Servicename<th>CPU SGX capable<th>SGX activated in BIOS<th>Date<th>Source<tbody><tr><td>AWS<td>EC2 C5 instances<td>YES, SGX1 and SGX2<td>NO, SGX not activated in BIOS<td>Apr 2018<td><a href=https://github.com/ayeks/SGX-hardware/issues/37>Issue 37</a><tr><td>Azure<td><a href="https://azuremarketplace.microsoft.com/en-us/marketplace/apps/microsoft-azure-compute.confidentialcompute?tab=Overview">Azure Confidential Computing Public Preview</a><td>YES, SGX1, SGX2<td>YES, SGX1, SGX2<td>Oct 2018<td><a href=https://azure.microsoft.com/en-us/blog/protect-data-in-use-with-the-public-preview-of-azure-confidential-computing/>Blog</a><tr><td>Google<td>N1 instances<td>YES, SGX1 and SGX2<td>NO, SGX not activated in BIOS<td>Apr 2018<td><a href=https://github.com/ayeks/SGX-hardware/issues/38>Issue 38</a><tr><td>IBM<td><a href=https://www.ibm.com/blogs/bluemix/2018/05/data-use-protection-ibm-cloud-using-intel-sgx/>IBM Cloud Bare Metal Instances</a><td>YES, unknown version<td>YES<td>May 2018<td><a href=https://github.com/ayeks/SGX-hardware/issues/46>Issue 46</a><tr><td>packet.net<td><a href=https://www.packet.com/cloud/all-features/>Reserved Hardware</a><td>YES, SGX1<td>YES<td>Apr 2018<td><a href=https://github.com/ayeks/SGX-hardware/issues/44>Issue 44</a><tr><td>Alibaba Cloud<td><a href=https://www.alibabacloud.com/product/ebm>ECS Bare Metal Instance</a><td>YES, unknown version<td>YES<td>Sep 2018<td><a href=https://www.alibabacloud.com/help/doc-detail/60576.html>Docs</a>, <a href=https://github.com/ayeks/SGX-hardware/issues/50>Issue 50</a><tr><td>OVHcloud<td><a href=https://www.ovh.com/ca/en/dedicated-servers/infra/>Infrastructure Dedicated Servers</a><td>YES, unknown version<td>YES<td>Sep 2019<td><a href=https://www.ovh.ie/dedicated_servers/software-guard-extensions/>Docs</a>, <a href=https://github.com/ayeks/SGX-hardware/issues/66>Issue 66</a><tr><td>Alibaba Cloud<td>ECS Security-enhanced family (public preview)<td>YES, SGX2<td>YES<td>July 2021<td><a href=https://www.alibabacloud.com/help/en/doc-detail/207734.htm>Docs</a></table><h3 id=hardware-that-supports-intel-sgx>Hardware that supports Intel SGX <a aria-label="anchor link" class=anchor-link href=#hardware-that-supports-intel-sgx> # </a></h3><p>See: <a href=https://github.com/ayeks/SGX-hardware>ayeks/SGX-hardware</a><h4 id=desktop-hardware-skus>Desktop Hardware SKUs <a aria-label="anchor link" class=anchor-link href=#desktop-hardware-skus> # </a></h4><table><thead><tr><th>Marketing Name<th>Processor#<th>Post-Conversion S-Spec<tbody><tr><td>Intel® Core<td>i7-6700K<td>SR2L0<tr><td>Intel® Core<td>i5-6400T<td>SR2L1<tr><td>Intel® Core<td>i7-6700<td>SR2L2<tr><td>Intel® Core<td>i7-6700T<td>SR2L3<tr><td>Intel® Core<td>i5-6600K<td>SR2L4<tr><td>Intel® Core<td>i5-6600<td>SR2L5<tr><td>Intel® Core<td>i5-6500<td>SR2L6<tr><td>Intel® Core<td>i5-6400<td>SR2L7<tr><td>Intel® Core<td>i5-6500T<td>SR2L8<tr><td>Intel® Core<td>i5-6600T<td>SR2L9<tr><td>Intel® Xeon®<td>E3-1280 v5<td>SR2LC<tr><td>Intel® Xeon®<td>E3-1240 v5<td>SR2LD<tr><td>Intel® Xeon®<td>E3-1230 v5<td>SR2LE<tr><td>Intel® Xeon®<td>E3-1270 v5<td>SR2LF<tr><td>Intel® Xeon®<td>E3-1220 v5<td>SR2LG<tr><td>Intel® Xeon®<td>E3-1260L v5<td>SR2LH<tr><td>Intel® Xeon®<td>E3-1225 v5<td>SR2LJ<tr><td>Intel® Xeon®<td>E3-1275 v5<td>SR2LK<tr><td>Intel® Xeon®<td>E3-1245 v5<td>SR2LL<tr><td>Intel® Xeon®<td>E3-1235L v5<td>SR2LM<tr><td>Intel® Xeon®<td>E3-1240L v5<td>SR2LN</table></main></div></div></div><form class=d-none id=search-bar><div class=container><div class="row justify-content-center"><div class="col col-lg-11 col-xl-9" id=search-container><input aria-label="Search notes..." class="form-control is-search" placeholder="Search notes..." autocomplete=off id=userinput type=search><div class="shadow rounded" id=suggestions></div></div></div></div></form><script defer src=https://phlip9.com/notes/js/elasticlunr.min.js></script><script defer src=https://phlip9.com/notes/search_index.en.js></script><script defer src=https://phlip9.com/notes/js/search.js></script>