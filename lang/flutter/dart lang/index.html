<!doctype html><html lang=en-US><head><meta charset=utf-8><meta content="ie=edge" http-equiv=x-ua-compatible><meta content="width=device-width,initial-scale=1,shrink-to-fit=no" name=viewport><link href=https://phlip9.com/notes/main.css rel=stylesheet><meta content="index, follow" name=robots><meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name=googlebot><meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name=bingbot><title>dart lang | philip's notes</title><meta content="a collection of my notes" name=description><link href="https://phlip9.com/notes/lang/flutter/dart lang/" rel=canonical><meta content=summary name=twitter:card><meta content="dart lang" name=twitter:title><meta content=@phlip9 name=twitter:site><meta content=@phlip9 name=twitter:creator><meta content="dart lang" property=og:title><meta content="a collection of my notes" property=og:description><meta content=article property=og:type><meta content="https://phlip9.com/notes/lang/flutter/dart lang/" property=og:url><meta content=2024-10-21T04:08:44.990615 property=og:updated_time><meta content="philip's notes" property=og:site_name><meta content=en_US property=og:locale><script type=application/ld+json>
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "/lang/flutter/dart lang/"
    },
    "headline": "dart lang",
    "image": ,
    "datePublished": "2022-12-05",
    "dateModified": "2024-10-21",
    "author": {
      "@type": "Person",
      "name": "Philip Hayes"
    },
    "publisher": {
      "@type": "Person",
      "name": "Philip Hayes",
      
    },
    "description": "a collection of my notes"
  }
  </script><script type=application/ld+json>
  {
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    
      
      
        
        
        
        
        
        
        
        
          {
            "@type": "ListItem",
            "position":  1 ,
            "name": "Home",
            "item": "https://phlip9.com/notes/"
          },
          
          
          {
            "@type": "ListItem",
            "position":  2 ,
            "name": "Lang",
            "item": "https://phlip9.com/notes/lang/"
          },
        
      
        
        
        
        
        
        
        
        
          
          
          {
            "@type": "ListItem",
            "position":  3 ,
            "name": "Flutter",
            "item": "https://phlip9.com/notes/lang/flutter/"
          },
        
      
        
        
        
        
        
        
        
        
          
          
          {
            "@type": "ListItem",
            "position":  4 ,
            "name": "Dart Lang",
            "item": "https://phlip9.com/notes/lang/flutter/dart lang/"
          },
        
      
    
  }
</script><meta content=#383866 name=theme-color><link href=https://phlip9.com/notes/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=https://phlip9.com/notes/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=https://phlip9.com/notes/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=https://phlip9.com/notes/site.webmanifest rel=manifest><script>// https://mathjax.github.io/MathJax-demos-web/convert-configuration/convert-configuration.html
        window.MathJax = {
          tex: {
            inlineMath: [
              ['$', '$']
            ],
            displayMath: [
              ['$$', '$$'],
              ['\\[', '\\]']
            ],
            processEscapes: true,
            processEnvironments: true,
          },
          options: {
            skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
          }
        };</script><script integrity="sha256-z47L98YXVhVIaY0uyDzt675P5Ea+w3RsPh9VD5NuoTY=" async crossorigin=anonymous defer id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-chtml.js></script><body class="notes single dark"><div class=container role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 notes-sidebar"><nav aria-label="Main navigation" class=notes-links><a class="navbar-brand link-internal" href=https://phlip9.com/notes/> philip's notes </a><a class="notes-link sidebar-social" href=https://twitter.com/phlip9> <svg class="feather feather-twitter" viewbox="0 0 24 24" fill=none height=20 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=20 xmlns=http://www.w3.org/2000/svg><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg> <span class=visually-hidden>Twitter</span> </a><a class="notes-link sidebar-social" href=https://github.com/phlip9> <svg class="feather feather-github" viewbox="0 0 24 24" fill=none height=20 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=20 xmlns=http://www.w3.org/2000/svg><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg> <span class=visually-hidden>GitHub</span> </a><a class="notes-link sidebar-social" href=# id=sidebar-open-search> <svg aria-labelledby="title desc" viewbox="0 0 19.9 19.7" fill=none height=20 id=search-icon role=img stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 tabindex=0 width=20 xmlns=http://www.w3.org/2000/svg> <g class=search-path><path d="M18.5 18.3l-5.4-5.4"></path><circle cx=8 cy=8 r=7></circle> </g> </svg> </a><hr><ol id=sidebar-tree-root><li><input id=sidebar-input-ai-ml type=checkbox> <label class=h3 for=sidebar-input-ai-ml>AI ML</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/AI ML/Expectimax Search/"> Expectimax Search </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/AI ML/Markov Decision Process (MDP)/"> Markov Decision Process (MDP) </a></ol><li><input id=sidebar-input-wsl type=checkbox> <label class=h3 for=sidebar-input-wsl>WSL</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/WSL/WSL2 custom kernel/"> WSL2 custom kernel </a></ol><li><li><input id=sidebar-input-android type=checkbox> <label class=h3 for=sidebar-input-android>android</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/android/ADB over TCP inside WSL2/"> ADB over TCP inside WSL2 </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/android/OTA updates for rooted android phone/"> OTA updates for rooted android phone </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/android/android cli setup/"> android cli setup </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/android/building signal-android in WSL2/"> building signal-android in WSL2 </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/android/linux ADB udev setup/"> linux ADB udev setup </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/android/root phone with magisk/"> root phone with magisk </a></ol><li><input id=sidebar-input-b-i-g-m-o-n-e-y-l-a-w-r-e-g-u-l-a-t-i-o-n type=checkbox> <label class=h3 for=sidebar-input-b-i-g-m-o-n-e-y-l-a-w-r-e-g-u-l-a-t-i-o-n>b i g m o n e y l a w r e g u l a t i o n</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/b i g m o n e y l a w r e g u l a t i o n/financial instituion/"> financial instituion </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/b i g m o n e y l a w r e g u l a t i o n/foreign bank account report (FBAR)/"> foreign bank account report (FBAR) </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/b i g m o n e y l a w r e g u l a t i o n/monetary instruments/"> monetary instruments </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/b i g m o n e y l a w r e g u l a t i o n/money services business (MSB)/"> money services business (MSB) </a></ol><li><input id=sidebar-input-b-l-o-c-k-c-h-a-i-n type=checkbox> <label class=h3 for=sidebar-input-b-l-o-c-k-c-h-a-i-n>b l o c k c h a i n</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/b l o c k c h a i n/aptos/"> aptos </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/b l o c k c h a i n/bip158 - compact block filters/"> bip158 - compact block filters </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/b l o c k c h a i n/btc utreexo - utxo accumulator/"> btc utreexo - utxo accumulator </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/b l o c k c h a i n/fastpay/"> fastpay </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/b l o c k c h a i n/oasis/"> oasis </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/b l o c k c h a i n/sui/"> sui </a></ol><li><input id=sidebar-input-btc-ln type=checkbox> <label class=h3 for=sidebar-input-btc-ln>btc-ln</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/BOLT 11 - invoices/"> BOLT 11 - invoices </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/BOLT 2 - channel management protocol/"> BOLT 2 - channel management protocol </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/BOLT 4 - onion routing protocol/"> BOLT 4 - onion routing protocol </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/BOLT 7 - p2p node and channel discovery/"> BOLT 7 - p2p node and channel discovery </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/BOLT 8 - secure noise transport/"> BOLT 8 - secure noise transport </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/atomic multipath payments (AMP)/"> atomic multipath payments (AMP) </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/breez lightning service providers/"> breez lightning service providers </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/hosted channels/"> hosted channels </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/lightning libs/"> lightning libs </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/lightning network notes/"> lightning network notes </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/lightning rod/"> lightning rod </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/lightningdevkit - rust-lightning/"> lightningdevkit - rust-lightning </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/submarine swaps/"> submarine swaps </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/zero-conf channels/"> zero-conf channels </a></ol><li><input id=sidebar-input-combinatorics type=checkbox> <label class=h3 for=sidebar-input-combinatorics>combinatorics</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/combinatorics/k-combinations of a multiset/"> k-combinations of a multiset </a></ol><li><input id=sidebar-input-confidential-computing type=checkbox> <label class=h3 for=sidebar-input-confidential-computing>confidential computing</label> <ol><li><input id=sidebar-input-confidential-computing-intel-sgx type=checkbox> <label class=h3 for=sidebar-input-confidential-computing-intel-sgx>intel SGX</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/intel SGX/SGX lingo/"> SGX lingo </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/intel SGX/overview/"> overview </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/intel SGX/remote attestation/"> remote attestation </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/intel SGX/sealing/"> sealing </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/intel SGX/secure time/"> secure time </a></ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/enarx (WASM TEE)/"> enarx (WASM TEE) </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/fortanix rust tutorial/"> fortanix rust tutorial </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/gramine/"> gramine </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/intel TDX/"> intel TDX </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/marblerun/"> marblerun </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/mystikos/"> mystikos </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/remote attestation protocols/"> remote attestation protocols </a></ol><li><input id=sidebar-input-crypto type=checkbox> <label class=h3 for=sidebar-input-crypto>crypto</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/crypto/(talk) authenticated data structures for stateless validation/"> (talk) authenticated data structures for stateless validation </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/crypto/TLS self-signed pubkey-only certs/"> TLS self-signed pubkey-only certs </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/crypto/acme protocol/"> acme protocol </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/crypto/biscuit authz/"> biscuit authz </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/crypto/dex - open-source OIDC & OAuth 2.0 provider/"> dex - open-source OIDC & OAuth 2.0 provider </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/crypto/hkdf-sha256/> hkdf-sha256 </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/crypto/smallstep - private online CA & ACME server/"> smallstep - private online CA & ACME server </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/crypto/tls exported keying material/"> tls exported keying material </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/crypto/zkdocs/> zkdocs </a></ol><li><input id=sidebar-input-design type=checkbox> <label class=h3 for=sidebar-input-design>design</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/design/form design/"> form design </a></ol><li><input id=sidebar-input-devops type=checkbox> <label class=h3 for=sidebar-input-devops>devops</label> <ol><li><input id=sidebar-input-devops-o11y type=checkbox> <label class=h3 for=sidebar-input-devops-o11y>o11y</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/o11y/jaeger oss e2e tracing/"> jaeger oss e2e tracing </a></ol><li><input id=sidebar-input-devops-secrets type=checkbox> <label class=h3 for=sidebar-input-devops-secrets>secrets</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/secrets/1password - secrets automation/"> 1password - secrets automation </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/devops/secrets/doppler/> doppler </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/secrets/ejson (Shopify)/"> ejson (Shopify) </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/secrets/ejson-kms (AWS)/"> ejson-kms (AWS) </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/devops/secrets/envkey/> envkey </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/secrets/fortanix DSM/"> fortanix DSM </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/secrets/mozilla SOPS/"> mozilla SOPS </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/devops/secrets/sops-nix/> sops-nix </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/secrets/sy - share secrets safely/"> sy - share secrets safely </a></ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/AKS - azure kubernetes service/"> AKS - azure kubernetes service </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/algo wireguard VPN server/"> algo wireguard VPN server </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/azure CLI/"> azure CLI </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/devops/consul/> consul </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/deployment strategies/"> deployment strategies </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/docker compose/"> docker compose </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/devops/k3s/> k3s </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/kind (kubernetes in docker)/"> kind (kubernetes in docker) </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/devops/kubernetes/> kubernetes </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/devops/linkerd/> linkerd </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/devops/minikube/> minikube </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/devops/nomad/> nomad </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/service mesh/"> service mesh </a></ol><li><input id=sidebar-input-distributed-systems type=checkbox> <label class=h3 for=sidebar-input-distributed-systems>distributed systems</label> <ol><li><input id=sidebar-input-distributed-systems-papers type=checkbox> <label class=h3 for=sidebar-input-distributed-systems-papers>papers</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/distributed systems/papers/(2020) Semi-Fast Byzantine-tolerant Shared Register without Reliable Broadcast/"> (2020) Semi-Fast Byzantine-tolerant Shared Register without Reliable Broadcast </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/distributed systems/papers/(2021) Leaderless Consensus/"> (2021) Leaderless Consensus </a></ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/distributed systems/the siren song of backpressure/"> the siren song of backpressure </a></ol><li><input id=sidebar-input-fuzzing type=checkbox> <label class=h3 for=sidebar-input-fuzzing>fuzzing</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/fuzzing/bolero - fuzzing + property testing/"> bolero - fuzzing + property testing </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/fuzzing/fuzzcheck-rs/> fuzzcheck-rs </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/fuzzing/fuzzing/> fuzzing </a></ol><li><input id=sidebar-input-ios type=checkbox> <label class=h3 for=sidebar-input-ios>ios</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/ios/ios setup/"> ios setup </a></ol><li><input id=sidebar-input-keyboards type=checkbox> <label class=h3 for=sidebar-input-keyboards>keyboards</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/keyboards/moergo glove80/"> moergo glove80 </a></ol><li><input checked id=sidebar-input-lang type=checkbox> <label class=h3 for=sidebar-input-lang>lang</label> <ol><li><input id=sidebar-input-lang-ats type=checkbox> <label class=h3 for=sidebar-input-lang-ats>ATS</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/ATS/ATS2 Notes/"> ATS2 Notes </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/ATS/Install ATS2/"> Install ATS2 </a></ol><li><input checked id=sidebar-input-lang-flutter type=checkbox> <label class=h3 for=sidebar-input-lang-flutter>flutter</label> <ol><li class=sidebar-note><a class="notes-link link-internal active" href="https://phlip9.com/notes/lang/flutter/dart lang/"> dart lang </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/flutter/flutter setup/"> flutter setup </a></ol><li><input id=sidebar-input-lang-rust type=checkbox> <label class=h3 for=sidebar-input-lang-rust>rust</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/rust/optimizing binary size/"> optimizing binary size </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/rust/rr with rust/"> rr with rust </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/rust/rust verification tools/"> rust verification tools </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/rust/rust x SGX/"> rust x SGX </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/rust/self-referencing structs/"> self-referencing structs </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/rust/sycamore x futures/"> sycamore x futures </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/rust/understanding sycamore reactivity/"> understanding sycamore reactivity </a></ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/gdb ref/"> gdb ref </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/lang/koka-lang/> koka-lang </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/lang/lua/> lua </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/operator fixity and precedence/"> operator fixity and precedence </a></ol><li><input id=sidebar-input-management type=checkbox> <label class=h3 for=sidebar-input-management>management</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/management/relieve often - why generals were more successful in WWII/"> relieve often - why generals were more successful in WWII </a></ol><li><input id=sidebar-input-misc type=checkbox> <label class=h3 for=sidebar-input-misc>misc</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/misc/arm target triples/"> arm target triples </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/misc/envsubst/> envsubst </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/misc/git multirepo to monorepo/"> git multirepo to monorepo </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/misc/kintsugi/> kintsugi </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/misc/optimization solvers/"> optimization solvers </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/misc/pop_OS! tweaks/"> pop_OS! tweaks </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/misc/prepping RPI for embedded dev/"> prepping RPI for embedded dev </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/misc/rgbxmas/> rgbxmas </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/misc/scanning QR codes on desktop/"> scanning QR codes on desktop </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/misc/setting up a headless raspbian boot image/"> setting up a headless raspbian boot image </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/misc/uptime to downtime conversion/"> uptime to downtime conversion </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/misc/water distillation setup/"> water distillation setup </a></ol><li><input id=sidebar-input-networking type=checkbox> <label class=h3 for=sidebar-input-networking>networking</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/networking/CIDR/> CIDR </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/networking/ipv6 address space/"> ipv6 address space </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/networking/network interface card (NIC)/"> network interface card (NIC) </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/networking/network interfaces/"> network interfaces </a></ol><li><input id=sidebar-input-nvim type=checkbox> <label class=h3 for=sidebar-input-nvim>nvim</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/nvim/universal-ctags Notes/"> universal-ctags Notes </a></ol><li><input id=sidebar-input-performance type=checkbox> <label class=h3 for=sidebar-input-performance>performance</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/performance/bit hacks/"> bit hacks </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/performance/dtrace on macOS/"> dtrace on macOS </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/performance/profiling/> profiling </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/performance/simdjson talk/"> simdjson talk </a></ol><li><input id=sidebar-input-postgres type=checkbox> <label class=h3 for=sidebar-input-postgres>postgres</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/postgres/postgres performance tuning/"> postgres performance tuning </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/postgres/snippets/> snippets </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/postgres/types of scans/"> types of scans </a></ol><li><input id=sidebar-input-reproducible-builds type=checkbox> <label class=h3 for=sidebar-input-reproducible-builds>reproducible builds</label> <ol><li><input id=sidebar-input-reproducible-builds-nix type=checkbox> <label class=h3 for=sidebar-input-reproducible-builds-nix>nix</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/reproducible builds/nix/links/"> links </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/reproducible builds/nix/nix auto-allocate-uids -> nixbld users/"> nix auto-allocate-uids -> nixbld users </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/reproducible builds/nix/nix debug broken package build/"> nix debug broken package build </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/reproducible builds/nix/nix debug spurrious rebuilds/"> nix debug spurrious rebuilds </a></ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/reproducible builds/earthly/"> earthly </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/reproducible builds/rebuilderd/"> rebuilderd </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/reproducible builds/reproducible-builds.org/"> reproducible-builds.org </a></ol><li><input id=sidebar-input-router type=checkbox> <label class=h3 for=sidebar-input-router>router</label> <ol><li><input id=sidebar-input-router-lightning-router type=checkbox> <label class=h3 for=sidebar-input-router-lightning-router>lightning router</label> <ol><li><input id=sidebar-input-router-lightning-router-captive-portal type=checkbox> <label class=h3 for=sidebar-input-router-lightning-router-captive-portal>captive portal</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/router/lightning router/captive portal/RFC 6585 (Additional HTTP Status Codes)/"> RFC 6585 (Additional HTTP Status Codes) </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/router/lightning router/captive portal/arubanetworks captive portal/"> arubanetworks captive portal </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/router/lightning router/captive portal/captive portal/"> captive portal </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/router/lightning router/captive portal/captive portal (wikipedia)/"> captive portal (wikipedia) </a></ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/router/lightning router/lightning router overview/"> lightning router overview </a></ol></ol><li><input id=sidebar-input-statistics-probability type=checkbox> <label class=h3 for=sidebar-input-statistics-probability>statistics probability</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/CDF confidence bands - DKW inequality/"> CDF confidence bands - DKW inequality </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/G-test - multinomial goodness-of-fit/"> G-test - multinomial goodness-of-fit </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/MAD - median absolute deviation/"> MAD - median absolute deviation </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/cheat sheet/"> cheat sheet </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/herbie - float error fixer/"> herbie - float error fixer </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/kelly criterion + ELO/"> kelly criterion + ELO </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/multinomial distribution/"> multinomial distribution </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/p-value/"> p-value </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/standard error/"> standard error </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/testing whether a coin is fair/"> testing whether a coin is fair </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/winsorize/"> winsorize </a></ol></ol></nav></div><nav aria-label="Secondary navigation" class="notes-toc d-none d-xl-block col-xl-4"><div class=page-links><h3 class=text-muted>on this page</h3><nav id=table-of-contents><ul><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#dart-lang" class=link-internal>dart lang</a> <ul><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#variables" class=link-internal>variables</a> <ul><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#mutable" class=link-internal>mutable</a><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#immutable" class=link-internal>immutable</a><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#comptime" class=link-internal>comptime</a><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#late-init" class=link-internal>late init</a><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#lazy-init" class=link-internal>lazy init</a></ul><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#built-in-types" class=link-internal>built-in types</a> <ul><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#numbers-num-int-double" class=link-internal>numbers (num, int, double)</a><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#strings-string" class=link-internal>strings (String)</a><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#lists-list-t" class=link-internal>lists (List&LTT>)</a> <ul><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#spread-operator" class=link-internal>spread operator</a><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#collection-control-flow-operators" class=link-internal>collection control flow operators</a></ul><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#sets-set-t" class=link-internal>sets (Set&LTT>)</a><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#maps-map-k-v" class=link-internal>maps (Map&LTK, V>)</a><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#symbols-symbol" class=link-internal>symbols (Symbol)</a><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#functions-function" class=link-internal>functions (Function)</a> <ul><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#parameters" class=link-internal>parameters</a><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#main" class=link-internal>main</a><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#closures" class=link-internal>closures</a></ul></ul><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#operators" class=link-internal>operators</a><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#control-flow" class=link-internal>control flow</a><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#classes" class=link-internal>classes</a> <ul><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#constructors" class=link-internal>constructors</a><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#getters-and-setters" class=link-internal>getters and setters</a><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#implicit-interfaces" class=link-internal>implicit interfaces</a></ul><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#extension-methods" class=link-internal>extension methods</a><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#enums" class=link-internal>enums</a><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#mixins" class=link-internal>mixins</a><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#libraries" class=link-internal>libraries</a><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#async-await" class=link-internal>async/await</a> <ul><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#enable-the-unawaited-futures-lint" class=link-internal>enable the unawaited_futures lint</a><li><a href="https://phlip9.com/notes/lang/flutter/dart lang/#enable-the-discarded-futures-lint" class=link-internal>enable the discarded_futures lint</a></ul></ul></ul></nav></div></nav><main class="notes-content tags-content col-lg-11 col-xl-8"><h1 id=dart-lang>dart lang</h1><p class=text-muted>2022-12-05 Â· 12 min read<ul class=tags><li><a class="btn btn-outline-primary btn-sm link-internal" href=https://phlip9.com/notes/tags/dart/>#dart</a><li><a class="btn btn-outline-primary btn-sm link-internal" href=https://phlip9.com/notes/tags/flutter/>#flutter</a></ul><h2 id=variables>variables <a aria-label="anchor link" class=anchor-link href=#variables> # </a></h2><h3 id=mutable>mutable <a aria-label="anchor link" class=anchor-link href=#mutable> # </a></h3><pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#b48ead;>var</span><span> name = </span><span style=color:#a3be8c;>'Bob'</span><span>;
</span><span style=color:#ebcb8b;>Object</span><span> name = </span><span style=color:#a3be8c;>'Bob'</span><span>;
</span><span style=color:#ebcb8b;>String</span><span> name = </span><span style=color:#a3be8c;>'Bob'</span><span>;
</span><span style=color:#b48ead;>var</span><span> name = </span><span style=color:#b48ead;>const </span><span style=color:#a3be8c;>'Bob'</span><span>;
</span><span>name = </span><span style=color:#a3be8c;>'Alice'</span><span>;
</span></code></pre><h3 id=immutable>immutable <a aria-label="anchor link" class=anchor-link href=#immutable> # </a></h3><pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#b48ead;>final</span><span> name = </span><span style=color:#a3be8c;>'Bob'</span><span>;
</span><span style=color:#b48ead;>final </span><span style=color:#ebcb8b;>String</span><span> name = </span><span style=color:#a3be8c;>'Bob'</span><span>;
</span><span>name = </span><span style=color:#a3be8c;>'Alice'</span><span>; </span><span style=color:#65737e;>// << compile error: final var can only be set once
</span><span style=color:#b48ead;>final </span><span style=color:#ebcb8b;>String</span><span> name = </span><span style=color:#b48ead;>const </span><span style=color:#a3be8c;>'Bob'</span><span>;
</span></code></pre><h3 id=comptime>comptime <a aria-label="anchor link" class=anchor-link href=#comptime> # </a></h3><pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#b48ead;>const</span><span> bar = </span><span style=color:#d08770;>1000000</span><span>;
</span><span style=color:#b48ead;>const </span><span style=color:#ebcb8b;>double</span><span> atm = </span><span style=color:#d08770;>1.01325 </span><span>* bar;
</span><span style=color:#b48ead;>const</span><span> p1 = [bar, atm];
</span><span style=color:#b48ead;>const</span><span> p2 = </span><span style=color:#b48ead;>const</span><span> [bar, atm]; </span><span style=color:#65737e;>// << style: const-value is redundant
</span></code></pre><blockquote><p>If you enable null safety, then you must initialize the values of non-nullable variables before you use them.</blockquote><p>The compiler can sometimes determine a lazy-init val is not null before use:<pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#ebcb8b;>int</span><span> foo;
</span><span style=color:#b48ead;>if</span><span> (isFooable) {
</span><span>	foo = </span><span style=color:#d08770;>123</span><span>;
</span><span>} </span><span style=color:#b48ead;>else</span><span> {
</span><span>	foo = </span><span style=color:#d08770;>0</span><span>;
</span><span>}
</span><span>
</span><span style=color:#8fa1b3;>print</span><span>(foo);
</span></code></pre><h3 id=late-init>late init <a aria-label="anchor link" class=anchor-link href=#late-init> # </a></h3><p>Use the <code>late</code> modifier if <code>dart</code> can't prove non-null-before-use. You will get a runtime panic if it's null on use:<pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span>late </span><span style=color:#ebcb8b;>String</span><span> desc;
</span><span>
</span><span style=color:#b48ead;>void </span><span style=color:#8fa1b3;>main</span><span>() {
</span><span>	desc = </span><span style=color:#a3be8c;>'hello'</span><span>;
</span><span>	</span><span style=color:#8fa1b3;>print</span><span>(desc);
</span><span>}
</span></code></pre><h3 id=lazy-init>lazy init <a aria-label="anchor link" class=anchor-link href=#lazy-init> # </a></h3><p>You can also use <code>late</code> for lazy-init:<pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#65737e;>// only computed on first use
</span><span>late </span><span style=color:#ebcb8b;>String</span><span> expensiveValue = </span><span style=color:#8fa1b3;>computeExpensive</span><span>();
</span></code></pre><h2 id=built-in-types>built-in types <a aria-label="anchor link" class=anchor-link href=#built-in-types> # </a></h2><h3 id=numbers-num-int-double>numbers (<a href=https://api.dart.dev/stable/dart-core/num-class.html>num</a>, <a href=https://api.dart.dev/stable/dart-core/int-class.html>int</a>, <a href=https://api.dart.dev/stable/dart-core/double-class.html>double</a>) <a aria-label="anchor link" class=anchor-link href=#numbers-num-int-double> # </a></h3><ul><li><code>class num</code><li>(native) <code>int := i64</code><li>(native) <code>double := double</code><li>both <code>int extends num</code> and <code>double extends num</code></ul><h3 id=strings-string>strings (<a href=https://api.dart.dev/stable/dart-core/String-class.html>String</a>) <a aria-label="anchor link" class=anchor-link href=#strings-string> # </a></h3><p><code>String</code> is a sequence of UTF-16 code points. You can use either '' or "" to create a string:<pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#b48ead;>var</span><span> s1 = </span><span style=color:#a3be8c;>'hello'</span><span>;
</span><span style=color:#b48ead;>var</span><span> s2 = </span><span style=color:#a3be8c;>"world"</span><span>;
</span></code></pre><p>Dart also supports string interpolation:<pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#b48ead;>var</span><span> inner = </span><span style=color:#a3be8c;>"world"</span><span>;
</span><span style=color:#b48ead;>var</span><span> s1 = </span><span style=color:#a3be8c;>"hello $</span><span style=color:#bf616a;>inner</span><span style=color:#a3be8c;>"</span><span>;
</span><span style=color:#b48ead;>var</span><span> s2 = </span><span style=color:#a3be8c;>"HELLO ${</span><span style=color:#bf616a;>inner.toUpperCase()</span><span style=color:#a3be8c;>}"</span><span>;
</span></code></pre><h3 id=lists-list-t>lists (<a href=https://api.dart.dev/stable/dart-core/List-class.html>List&LTT></a>) <a aria-label="anchor link" class=anchor-link href=#lists-list-t> # </a></h3><pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#ebcb8b;>List</span><span><</span><span style=color:#ebcb8b;>int</span><span>> list = [</span><span style=color:#d08770;>1</span><span>, </span><span style=color:#d08770;>2</span><span>, </span><span style=color:#d08770;>3</span><span>];
</span><span style=color:#b48ead;>assert</span><span>(list.length == </span><span style=color:#d08770;>3</span><span>);
</span><span style=color:#b48ead;>assert</span><span>(list[</span><span style=color:#d08770;>1</span><span>] == </span><span style=color:#d08770;>2</span><span>);
</span><span>
</span><span style=color:#b48ead;>var</span><span> list = </span><span style=color:#b48ead;>const</span><span> [</span><span style=color:#d08770;>1</span><span>, </span><span style=color:#d08770;>2</span><span>, </span><span style=color:#d08770;>3</span><span>];
</span><span>list[</span><span style=color:#d08770;>1</span><span>] = </span><span style=color:#d08770;>1</span><span>; </span><span style=color:#65737e;>// << error
</span></code></pre><h4 id=spread-operator>spread operator <a aria-label="anchor link" class=anchor-link href=#spread-operator> # </a></h4><ul><li>spread operator <code>...</code><li>null-aware spread operator <code>...?</code></ul><pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#b48ead;>var</span><span> xs = [</span><span style=color:#d08770;>1</span><span>, </span><span style=color:#d08770;>2</span><span>, </span><span style=color:#d08770;>3</span><span>];
</span><span style=color:#b48ead;>var</span><span> ys = [</span><span style=color:#d08770;>0</span><span>, ...xs];
</span><span style=color:#b48ead;>assert</span><span>(ys == [</span><span style=color:#d08770;>0</span><span>, </span><span style=color:#d08770;>1</span><span>, </span><span style=color:#d08770;>2</span><span>, </span><span style=color:#d08770;>3</span><span>]);
</span><span>
</span><span style=color:#b48ead;>var</span><span> zs = </span><span style=color:#d08770;>null</span><span>;
</span><span style=color:#b48ead;>var</span><span> ws = [</span><span style=color:#d08770;>0</span><span>, ...?zs];
</span><span style=color:#b48ead;>assert</span><span>(ws == [</span><span style=color:#d08770;>0</span><span>]);
</span></code></pre><h4 id=collection-control-flow-operators>collection control flow operators <a aria-label="anchor link" class=anchor-link href=#collection-control-flow-operators> # </a></h4><pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#b48ead;>var</span><span> nav = [</span><span style=color:#a3be8c;>"Home"</span><span>, </span><span style=color:#a3be8c;>"Furniture"</span><span>, </span><span style=color:#a3be8c;>"Plants"</span><span>, </span><span style=color:#b48ead;>if</span><span> (promo) </span><span style=color:#a3be8c;>"Outlet"</span><span>];
</span><span style=color:#b48ead;>var</span><span> ints = [</span><span style=color:#d08770;>1</span><span>, </span><span style=color:#d08770;>2</span><span>, </span><span style=color:#d08770;>3</span><span>];
</span><span style=color:#b48ead;>var</span><span> strs = [</span><span style=color:#a3be8c;>"#0"</span><span>, </span><span style=color:#b48ead;>for</span><span> (</span><span style=color:#b48ead;>var</span><span> i </span><span style=color:#b48ead;>in</span><span> ints) </span><span style=color:#a3be8c;>"#$</span><span style=color:#bf616a;>i</span><span style=color:#a3be8c;>"</span><span>];
</span><span style=color:#b48ead;>assert</span><span>(strs == [</span><span style=color:#a3be8c;>"#0"</span><span>, </span><span style=color:#a3be8c;>"#1"</span><span>, </span><span style=color:#a3be8c;>"#2"</span><span>, </span><span style=color:#a3be8c;>"#3"</span><span>]);
</span></code></pre><h3 id=sets-set-t>sets (<a href=https://api.dart.dev/stable/dart-core/Set-class.html>Set&LTT></a>) <a aria-label="anchor link" class=anchor-link href=#sets-set-t> # </a></h3><pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#b48ead;>var</span><span> halogens = {</span><span style=color:#a3be8c;>"F"</span><span>, </span><span style=color:#a3be8c;>"Cl"</span><span>, </span><span style=color:#a3be8c;>"Br"</span><span>, </span><span style=color:#a3be8c;>"I"</span><span>, </span><span style=color:#a3be8c;>"At"</span><span>};
</span><span style=color:#b48ead;>var</span><span> names = <</span><span style=color:#ebcb8b;>String</span><span>>{};
</span><span style=color:#ebcb8b;>Set</span><span><</span><span style=color:#ebcb8b;>String</span><span>> names = {};
</span><span>names.</span><span style=color:#8fa1b3;>add</span><span>(</span><span style=color:#a3be8c;>"Alice"</span><span>);
</span><span>names.</span><span style=color:#8fa1b3;>addAll</span><span>({</span><span style=color:#a3be8c;>"Bob"</span><span>, </span><span style=color:#a3be8c;>"Charlie"</span><span>});
</span></code></pre><h3 id=maps-map-k-v>maps (<a href=https://api.dart.dev/stable/dart-core/Map-class.html>Map&LTK, V></a>) <a aria-label="anchor link" class=anchor-link href=#maps-map-k-v> # </a></h3><pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#b48ead;>var</span><span> halogens = {
</span><span>	</span><span style=color:#d08770;>9</span><span>: </span><span style=color:#a3be8c;>"F"</span><span>,
</span><span>	</span><span style=color:#d08770;>17</span><span>: </span><span style=color:#a3be8c;>"Cl"</span><span>,
</span><span>};
</span><span>
</span><span style=color:#b48ead;>assert</span><span>(halogens.length == </span><span style=color:#d08770;>2</span><span>);
</span><span style=color:#b48ead;>assert</span><span>(halogens[</span><span style=color:#d08770;>9</span><span>] == </span><span style=color:#a3be8c;>"F"</span><span>);
</span><span style=color:#b48ead;>assert</span><span>(halogens[</span><span style=color:#d08770;>2</span><span>] == </span><span style=color:#d08770;>null</span><span>);
</span></code></pre><h3 id=symbols-symbol>symbols (<a href=https://api.dart.dev/stable/dart-core/Symbol-class.html>Symbol</a>) <a aria-label="anchor link" class=anchor-link href=#symbols-symbol> # </a></h3><ul><li>Represents an operator or identifier in a dart program.</ul><pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span>#radix
</span><span>#bar
</span></code></pre><p>example using <a href=https://api.dart.dev/stable/dart-core/Function/apply.html><code>Function.apply</code></a>:<pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#b48ead;>abstract class </span><span style=color:#ebcb8b;>Function</span><span> {
</span><span>	</span><span style=color:#b48ead;>external static </span><span style=color:#8fa1b3;>apply</span><span>(
</span><span>		</span><span style=color:#ebcb8b;>Function</span><span> function,
</span><span>		</span><span style=color:#ebcb8b;>List</span><span><</span><span style=color:#ebcb8b;>dynamic</span><span>>? positionalArguments,
</span><span>		[</span><span style=color:#ebcb8b;>Map</span><span><</span><span style=color:#ebcb8b;>Symbol</span><span>, </span><span style=color:#ebcb8b;>dynamic</span><span>>? namedArguments],
</span><span>	);
</span><span>}
</span><span>
</span><span style=color:#b48ead;>void </span><span style=color:#8fa1b3;>printWineDetails</span><span>(</span><span style=color:#ebcb8b;>int</span><span> vintage, {</span><span style=color:#ebcb8b;>String</span><span>? country, </span><span style=color:#ebcb8b;>String</span><span>? name}) {
</span><span>  </span><span style=color:#8fa1b3;>print</span><span>(</span><span style=color:#a3be8c;>'Name: $</span><span style=color:#bf616a;>name</span><span style=color:#a3be8c;>, Country: $</span><span style=color:#bf616a;>country</span><span style=color:#a3be8c;>, Vintage: $</span><span style=color:#bf616a;>vintage</span><span style=color:#a3be8c;>'</span><span>);
</span><span>}
</span><span>
</span><span style=color:#ebcb8b;>Function</span><span>.</span><span style=color:#8fa1b3;>apply</span><span>(printWineDetails, [</span><span style=color:#d08770;>2018</span><span>], {#country: </span><span style=color:#a3be8c;>"USA"</span><span>, #name: </span><span style=color:#a3be8c;>"Casocco"</span><span>});
</span></code></pre><h3 id=functions-function>functions (<a href=https://api.dart.dev/stable/dart-core/Function-class.html>Function</a>) <a aria-label="anchor link" class=anchor-link href=#functions-function> # </a></h3><p>Dart functions are first-class objects and can be assigned to variables and passed as arguments.<pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#ebcb8b;>bool </span><span style=color:#8fa1b3;>isNoble</span><span>(</span><span style=color:#ebcb8b;>int</span><span> n) {
</span><span>	</span><span style=color:#b48ead;>return</span><span> _nobleGases[n] != </span><span style=color:#d08770;>null</span><span>;
</span><span>}
</span><span>
</span><span style=color:#65737e;>// can omit type annotations...
</span><span style=color:#8fa1b3;>isNoble</span><span>(n) {
</span><span>	</span><span style=color:#b48ead;>return</span><span> _nobleGases[n] != </span><span style=color:#d08770;>null</span><span>;
</span><span>}
</span><span>
</span><span style=color:#65737e;>// single-expressions shorthand syntax
</span><span style=color:#ebcb8b;>bool </span><span style=color:#8fa1b3;>isNoble</span><span>(</span><span style=color:#ebcb8b;>int</span><span> n) => _nobleGases[n] != </span><span style=color:#d08770;>null</span><span>;
</span></code></pre><h4 id=parameters>parameters <a aria-label="anchor link" class=anchor-link href=#parameters> # </a></h4><ul><li>Functions can have <em>required positional</em> parameters, followed by <em>named parameters</em> xor <em>optional positional</em> parameters.</ul><h5 id=named-parameters>named parameters <a aria-label="anchor link" class=anchor-link href=#named-parameters> # </a></h5><ul><li>Named params are <code>null</code> by default (hence the <code>bool?</code> for each param in this example):</ul><pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#b48ead;>void </span><span style=color:#8fa1b3;>enableFlags</span><span>({</span><span style=color:#ebcb8b;>bool</span><span>? bold, </span><span style=color:#ebcb8b;>bool</span><span>? hidden}) { </span><span style=color:#65737e;>/* .. */</span><span> }
</span><span>
</span><span style=color:#8fa1b3;>enableFlags</span><span>(bold: </span><span style=color:#d08770;>true</span><span>, hidden: </span><span style=color:#d08770;>false</span><span>);
</span></code></pre><ul><li>You can specify default values:</ul><pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#b48ead;>void </span><span style=color:#8fa1b3;>enableFlags</span><span>({</span><span style=color:#ebcb8b;>bool</span><span> bold = </span><span style=color:#d08770;>false</span><span>, </span><span style=color:#ebcb8b;>bool</span><span> hidden = </span><span style=color:#d08770;>false</span><span>}) { </span><span style=color:#65737e;>/* .. */</span><span> }
</span><span>
</span><span style=color:#8fa1b3;>enableFlags</span><span>(hidden: </span><span style=color:#d08770;>true</span><span>); </span><span style=color:#65737e;>// bold = false
</span></code></pre><ul><li>You can use the <code>required</code> keyword to make a named param non-optional:</ul><pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#b48ead;>const </span><span style=color:#ebcb8b;>Scrollbar</span><span>({</span><span style=color:#bf616a;>super</span><span>.key, required </span><span style=color:#ebcb8b;>Widget</span><span> child});
</span></code></pre><h5 id=optional-positional-parameters>optional positional parameters <a aria-label="anchor link" class=anchor-link href=#optional-positional-parameters> # </a></h5><pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#b48ead;>void </span><span style=color:#8fa1b3;>say</span><span>(</span><span style=color:#ebcb8b;>String</span><span> from, </span><span style=color:#ebcb8b;>String</span><span> msg, [</span><span style=color:#ebcb8b;>String</span><span>? device]) {
</span><span>  </span><span style=color:#b48ead;>final</span><span> tail = (device != </span><span style=color:#d08770;>null</span><span>) ? </span><span style=color:#a3be8c;>"on their $</span><span style=color:#bf616a;>device</span><span style=color:#a3be8c;>" </span><span>: </span><span style=color:#a3be8c;>""</span><span>;
</span><span>  </span><span style=color:#8fa1b3;>print</span><span>(</span><span style=color:#a3be8c;>"$</span><span style=color:#bf616a;>from</span><span style=color:#a3be8c;> says $</span><span style=color:#bf616a;>msg</span><span style=color:#a3be8c;>$</span><span style=color:#bf616a;>tail</span><span style=color:#a3be8c;>"</span><span>);
</span><span>}
</span><span>
</span><span style=color:#b48ead;>void </span><span style=color:#8fa1b3;>main</span><span>() {
</span><span>  </span><span style=color:#8fa1b3;>say</span><span>(</span><span style=color:#a3be8c;>"Bob"</span><span>, </span><span style=color:#a3be8c;>"hello"</span><span>);
</span><span>  </span><span style=color:#8fa1b3;>say</span><span>(</span><span style=color:#a3be8c;>"Alice"</span><span>, </span><span style=color:#a3be8c;>"goodbye"</span><span>, </span><span style=color:#a3be8c;>"Android"</span><span>);
</span><span>}
</span></code></pre><h4 id=main>main <a aria-label="anchor link" class=anchor-link href=#main> # </a></h4><pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#b48ead;>void </span><span style=color:#8fa1b3;>main</span><span>() {}
</span><span style=color:#b48ead;>void </span><span style=color:#8fa1b3;>main</span><span>(</span><span style=color:#ebcb8b;>List</span><span><</span><span style=color:#ebcb8b;>String</span><span>> arguments) {}
</span></code></pre><ul><li>You can use the <a href=https://pub.dev/packages/args>args</a> package for arg parsing.</ul><h4 id=closures>closures <a aria-label="anchor link" class=anchor-link href=#closures> # </a></h4><p>syntax:<pre style=background-color:#2b303b;color:#c0c5ce;><code><span>([[Type] param1[, ...]]) { codeBlock; }
</span><span>([[Type] param1[, ...]]) => expression;
</span><span>
</span><span>const printer = (val) { print("this is $val"); };
</span><span>
</span><span>["bob", "Alice"]
</span><span>	.map((name) => name.toUpperCase())
</span><span>	.forEach((name) => print("big name: $name"));
</span><span>
</span><span>Function makeAdder(int addend) => (int i) => i + addend;
</span></code></pre><h2 id=operators>operators <a aria-label="anchor link" class=anchor-link href=#operators> # </a></h2><p>(only highlighting interesting or non-standard operators)<ul><li><code>~/</code> integer division, e.g., <code>5 ~/ 2 == 2</code>.<li><code>x is T</code> is true if value <code>x</code> impls <code>T</code>. <code>x is Object?</code> is always true.<li><code>x is! T == !(x is T)</code><li><code>x ??= value</code> assigns value iff x is null.</ul><p><code>ints</code> are always signed, so shifts are sign-extended as well. To do a bit-wise unsigned right shift, use <code>>>></code>.<ul><li><code>expr1 ?? expr2</code> returns <code>expr1</code> if it's non-null, otherwise <code>expr2</code>.</ul><p>cascade notation lets you make a sequence of operations on one object:<pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#b48ead;>var</span><span> paint = </span><span style=color:#ebcb8b;>Paint</span><span>()
</span><span>  ..color = </span><span style=color:#ebcb8b;>Colors</span><span>.black
</span><span>  ..strokeCap = </span><span style=color:#ebcb8b;>StrokeCap</span><span>.round
</span><span>  ..strokeWidth = </span><span style=color:#d08770;>5.0</span><span>;
</span><span>
</span><span style=color:#65737e;>// if the object is possibly null, then use `?..` for the first operation
</span><span style=color:#8fa1b3;>querySelector</span><span>(</span><span style=color:#a3be8c;>"#confirm"</span><span>)
</span><span>  ?..text = </span><span style=color:#a3be8c;>"Confirm"
</span><span>  ..classes.</span><span style=color:#8fa1b3;>add</span><span>(</span><span style=color:#a3be8c;>"important"</span><span>)
</span><span>  ..onClick.</span><span style=color:#8fa1b3;>listen</span><span>((e) => window.</span><span style=color:#8fa1b3;>alert</span><span>(</span><span style=color:#a3be8c;>"Confirmed"</span><span>))
</span><span>  ..</span><span style=color:#8fa1b3;>scrollIntoView</span><span>();
</span></code></pre><p>other maybe-null operators<pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span>xs?[</span><span style=color:#d08770;>1</span><span>] == xs.</span><span style=color:#8fa1b3;>map</span><span>(|xs| xs[</span><span style=color:#d08770;>1</span><span>])
</span><span>paint?.color == paint.</span><span style=color:#8fa1b3;>map</span><span>(|p| p.color)
</span><span>paint! == paint.</span><span style=color:#8fa1b3;>unwrap</span><span>()
</span><span>paint!.color == paint.</span><span style=color:#8fa1b3;>unwrap</span><span>().color
</span></code></pre><p>you can override operators on classes<pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#b48ead;>class </span><span style=color:#ebcb8b;>Vec3d</span><span> {
</span><span>  </span><span style=color:#b48ead;>final </span><span style=color:#ebcb8b;>double</span><span> x, y, z;
</span><span>
</span><span>  </span><span style=color:#b48ead;>const </span><span style=color:#ebcb8b;>Vec3d</span><span>(</span><span style=color:#bf616a;>this</span><span>.x, </span><span style=color:#bf616a;>this</span><span>.y, </span><span style=color:#bf616a;>this</span><span>.z);
</span><span>
</span><span>  </span><span style=color:#ebcb8b;>Vec3d </span><span style=color:#b48ead;>operator </span><span>+(</span><span style=color:#ebcb8b;>Vec3d</span><span> v) => </span><span style=color:#ebcb8b;>Vec3d</span><span>(x + v.x, y + v.y, z + v.z);
</span><span>}
</span></code></pre><h2 id=control-flow>control flow <a aria-label="anchor link" class=anchor-link href=#control-flow> # </a></h2><pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#b48ead;>for</span><span> (</span><span style=color:#b48ead;>var</span><span> i = </span><span style=color:#d08770;>0</span><span>; i < </span><span style=color:#d08770;>10</span><span>; i++) { </span><span style=color:#65737e;>/* .. */</span><span> }
</span><span style=color:#b48ead;>for</span><span> (</span><span style=color:#b48ead;>final</span><span> cb </span><span style=color:#b48ead;>in</span><span> callbacks) { </span><span style=color:#65737e;>/* .. */</span><span> }
</span><span>callbacks.</span><span style=color:#8fa1b3;>forEach</span><span>((cb) => </span><span style=color:#65737e;>/* .. */</span><span>);
</span><span style=color:#b48ead;>while</span><span> (foo) { </span><span style=color:#65737e;>/* .. */</span><span>}
</span></code></pre><ul><li>supports c-style <code>switch-case</code> blocks...</ul><p>All of Dartâs exceptions are unchecked exceptions. Methods donât declare which exceptions they might throw, and you arenât required to catch any exceptions.<pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#b48ead;>try</span><span> {
</span><span>  </span><span style=color:#8fa1b3;>breedMoreLlamas</span><span>();
</span><span>} </span><span style=color:#b48ead;>on </span><span style=color:#ebcb8b;>OutOfLlamasException</span><span> {
</span><span>  </span><span style=color:#65737e;>// A specific exception
</span><span>  </span><span style=color:#8fa1b3;>buyMoreLlamas</span><span>();
</span><span>} </span><span style=color:#b48ead;>on </span><span style=color:#ebcb8b;>Exception </span><span style=color:#b48ead;>catch</span><span> (err) {
</span><span>  </span><span style=color:#65737e;>// Anything else that is an exception
</span><span>  </span><span style=color:#8fa1b3;>print</span><span>(</span><span style=color:#a3be8c;>'Unknown exception: $</span><span style=color:#bf616a;>err</span><span style=color:#a3be8c;>'</span><span>);
</span><span>} </span><span style=color:#b48ead;>catch</span><span> (err, backtrace) {
</span><span>  </span><span style=color:#65737e;>// No specified type, handles all
</span><span>  </span><span style=color:#8fa1b3;>print</span><span>(</span><span style=color:#a3be8c;>'unknown error:</span><span style=color:#96b5b4;>\n</span><span style=color:#a3be8c;>$</span><span style=color:#bf616a;>err</span><span style=color:#96b5b4;>\n</span><span style=color:#a3be8c;>trace:</span><span style=color:#96b5b4;>\n</span><span style=color:#a3be8c;>$</span><span style=color:#bf616a;>backtrace</span><span style=color:#a3be8c;>'</span><span>);
</span><span>  </span><span style=color:#b48ead;>rethrow</span><span>;
</span><span>} </span><span style=color:#b48ead;>finally</span><span> {
</span><span>  </span><span style=color:#8fa1b3;>cleanup</span><span>();
</span><span>}
</span></code></pre><h2 id=classes>classes <a aria-label="anchor link" class=anchor-link href=#classes> # </a></h2><p>The root of the Dart object hierarchy is <code>Object? := { null U Object }</code>:<pre style=background-color:#2b303b;color:#c0c5ce;><code><span>				Object?
</span><span>				|     |
</span><span>			  null  Object
</span><span>			        / / \ \
</span><span>			    &LTnormal classes>
</span></code></pre><p>Classes have one superclass (by <code>extends</code>) and zero or more <code>mixin</code> interfaces.<h3 id=constructors>constructors <a aria-label="anchor link" class=anchor-link href=#constructors> # </a></h3><pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#b48ead;>import </span><span style=color:#a3be8c;>"dart:math"</span><span>;
</span><span>
</span><span style=color:#b48ead;>class </span><span style=color:#ebcb8b;>Point</span><span> {
</span><span>  </span><span style=color:#b48ead;>final </span><span style=color:#ebcb8b;>double</span><span> x;
</span><span>  </span><span style=color:#b48ead;>final </span><span style=color:#ebcb8b;>double</span><span> y;
</span><span>  </span><span style=color:#b48ead;>final </span><span style=color:#ebcb8b;>double</span><span> z;
</span><span>
</span><span>  </span><span style=color:#65737e;>// initializing with "formal" parameters
</span><span>  </span><span style=color:#b48ead;>const </span><span style=color:#ebcb8b;>Point</span><span>({required </span><span style=color:#bf616a;>this</span><span>.x, required </span><span style=color:#bf616a;>this</span><span>.y, </span><span style=color:#bf616a;>this</span><span>.z = </span><span style=color:#d08770;>0.0</span><span>});
</span><span>
</span><span>  </span><span style=color:#65737e;>// initializing with C++-style initializer list
</span><span>  </span><span style=color:#ebcb8b;>Point</span><span>.</span><span style=color:#8fa1b3;>fromPolar</span><span>({required </span><span style=color:#ebcb8b;>double</span><span> r, required </span><span style=color:#ebcb8b;>double</span><span> theta})
</span><span>      : x = r * </span><span style=color:#8fa1b3;>cos</span><span>(theta),
</span><span>        y = r * </span><span style=color:#8fa1b3;>sin</span><span>(theta),
</span><span>        z = </span><span style=color:#d08770;>0.0</span><span>;
</span><span>
</span><span>  </span><span style=color:#65737e;>// can also redirect to another constructor
</span><span>  </span><span style=color:#ebcb8b;>Point</span><span>.</span><span style=color:#8fa1b3;>fromPolar2</span><span>({required </span><span style=color:#ebcb8b;>double</span><span> r, required </span><span style=color:#ebcb8b;>double</span><span> theta})
</span><span>      : </span><span style=color:#bf616a;>this</span><span>(x: r * </span><span style=color:#8fa1b3;>cos</span><span>(theta), y: r * </span><span style=color:#8fa1b3;>sin</span><span>(theta));
</span><span>
</span><span>
</span><span>  </span><span style=color:#65737e;>// if you need to do some work before construction, use `factory`.
</span><span>  </span><span style=color:#65737e;>// this also works for objects retrieved from e.g. an internal cache.
</span><span>  </span><span style=color:#b48ead;>factory </span><span style=color:#ebcb8b;>Point</span><span>.</span><span style=color:#8fa1b3;>fromPolar3d</span><span>({
</span><span>    required </span><span style=color:#ebcb8b;>double</span><span> r,
</span><span>    required </span><span style=color:#ebcb8b;>double</span><span> theta,
</span><span>    required </span><span style=color:#ebcb8b;>double</span><span> phi,
</span><span>  }) {
</span><span>    </span><span style=color:#b48ead;>final</span><span> rSinPhi = r * </span><span style=color:#8fa1b3;>sin</span><span>(phi);
</span><span>    </span><span style=color:#b48ead;>final</span><span> x = rSinPhi * </span><span style=color:#8fa1b3;>cos</span><span>(theta);
</span><span>    </span><span style=color:#b48ead;>final</span><span> y = rSinPhi * </span><span style=color:#8fa1b3;>sin</span><span>(theta);
</span><span>    </span><span style=color:#b48ead;>final</span><span> z = r * </span><span style=color:#8fa1b3;>cos</span><span>(phi);
</span><span>    </span><span style=color:#b48ead;>return </span><span style=color:#ebcb8b;>Point</span><span>(x: x, y: y, z: z);
</span><span>  }
</span><span>
</span><span>  </span><span style=color:#b48ead;>@override
</span><span>  </span><span style=color:#ebcb8b;>String </span><span style=color:#8fa1b3;>toString</span><span>() => </span><span style=color:#a3be8c;>"{ $</span><span style=color:#bf616a;>x</span><span style=color:#a3be8c;>, $</span><span style=color:#bf616a;>y</span><span style=color:#a3be8c;>, $</span><span style=color:#bf616a;>z</span><span style=color:#a3be8c;> }"</span><span>;
</span><span>}
</span><span>
</span><span style=color:#8fa1b3;>print</span><span>(</span><span style=color:#ebcb8b;>Point</span><span>(x: </span><span style=color:#d08770;>1</span><span>, y: </span><span style=color:#d08770;>2</span><span>)); </span><span style=color:#65737e;>// { 1.0, 2.0, 0.0 }
</span><span style=color:#8fa1b3;>print</span><span>(</span><span style=color:#ebcb8b;>Point</span><span>(x: </span><span style=color:#d08770;>1</span><span>, y: </span><span style=color:#d08770;>2</span><span>, z: </span><span style=color:#d08770;>3</span><span>)); </span><span style=color:#65737e;>// { 1.0, 2.0, 3.0 }
</span><span style=color:#8fa1b3;>print</span><span>(</span><span style=color:#ebcb8b;>Point</span><span>.</span><span style=color:#8fa1b3;>fromPolar</span><span>(r: </span><span style=color:#d08770;>3.0</span><span>, theta: </span><span style=color:#d08770;>0.25 </span><span>* pi)); </span><span style=color:#65737e;>// { 2.121, 2.121, 0.0 }
</span><span style=color:#8fa1b3;>print</span><span>(</span><span style=color:#ebcb8b;>Point</span><span>.</span><span style=color:#8fa1b3;>fromPolar3d</span><span>( </span><span style=color:#65737e;>// { 0.812, 0.812, 2.772 }
</span><span>  r: </span><span style=color:#d08770;>3.0</span><span>,
</span><span>  theta: </span><span style=color:#d08770;>0.25 </span><span>* pi,
</span><span>  phi: </span><span style=color:#d08770;>0.125 </span><span>* pi,
</span><span>));
</span></code></pre><h3 id=getters-and-setters>getters and setters <a aria-label="anchor link" class=anchor-link href=#getters-and-setters> # </a></h3><pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#b48ead;>class </span><span style=color:#ebcb8b;>Point</span><span> {
</span><span>  </span><span style=color:#b48ead;>const </span><span style=color:#ebcb8b;>Point</span><span>(</span><span style=color:#bf616a;>this</span><span>.x, </span><span style=color:#bf616a;>this</span><span>.y, </span><span style=color:#bf616a;>this</span><span>.x);
</span><span>  </span><span style=color:#b48ead;>final </span><span style=color:#ebcb8b;>double</span><span> x, y, z;
</span><span>
</span><span>  </span><span style=color:#ebcb8b;>double </span><span style=color:#b48ead;>get </span><span style=color:#8fa1b3;>length</span><span> => </span><span style=color:#8fa1b3;>sqrt</span><span>(x * x + y * y + z * z);
</span><span>  </span><span style=color:#b48ead;>set </span><span style=color:#8fa1b3;>length</span><span>(</span><span style=color:#ebcb8b;>double</span><span> newLen) {
</span><span>    </span><span style=color:#b48ead;>final</span><span> mult = newLen / length;
</span><span>    x *= mult;
</span><span>    y *= mult;
</span><span>    z *= mult;
</span><span>  }
</span><span>}
</span><span>
</span><span style=color:#ebcb8b;>bool </span><span style=color:#8fa1b3;>approxEq</span><span>(</span><span style=color:#ebcb8b;>double</span><span> x, </span><span style=color:#ebcb8b;>double</span><span> y) => </span><span style=color:#8fa1b3;>abs</span><span>(x - y) <= </span><span style=color:#d08770;>1e-10</span><span>;
</span><span>
</span><span style=color:#b48ead;>final</span><span> point = </span><span style=color:#ebcb8b;>Point</span><span>(</span><span style=color:#d08770;>0</span><span>, </span><span style=color:#8fa1b3;>sqrt</span><span>(</span><span style=color:#d08770;>2</span><span>)/</span><span style=color:#d08770;>2</span><span>, </span><span style=color:#8fa1b3;>sqrt</span><span>(</span><span style=color:#d08770;>2</span><span>)/</span><span style=color:#d08770;>2</span><span>);
</span><span style=color:#b48ead;>assert</span><span>(</span><span style=color:#8fa1b3;>approxEq</span><span>(</span><span style=color:#d08770;>1.0</span><span>, point.length));
</span></code></pre><h3 id=implicit-interfaces>implicit interfaces <a aria-label="anchor link" class=anchor-link href=#implicit-interfaces> # </a></h3><p>All classes define an <em>implicit interface</em> containing all its instance members and implemented interfaces.<pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#65737e;>// A person. The implicit interface contains greet().
</span><span style=color:#b48ead;>class </span><span style=color:#ebcb8b;>Person</span><span> {
</span><span>  </span><span style=color:#65737e;>// In the interface, but visible only in this library.
</span><span>  </span><span style=color:#b48ead;>final </span><span style=color:#ebcb8b;>String</span><span> _name;
</span><span>
</span><span>  </span><span style=color:#65737e;>// Not in the interface, since this is a constructor.
</span><span>  </span><span style=color:#ebcb8b;>Person</span><span>(</span><span style=color:#bf616a;>this</span><span>._name);
</span><span>
</span><span>  </span><span style=color:#65737e;>// In the interface.
</span><span>  </span><span style=color:#ebcb8b;>String </span><span style=color:#8fa1b3;>greet</span><span>(</span><span style=color:#ebcb8b;>String</span><span> who) => </span><span style=color:#a3be8c;>'Hello, $</span><span style=color:#bf616a;>who</span><span style=color:#a3be8c;>. I am $</span><span style=color:#bf616a;>_name</span><span style=color:#a3be8c;>.'</span><span>;
</span><span>}
</span><span>
</span><span style=color:#65737e;>// An implementation of the Person interface.
</span><span style=color:#b48ead;>class </span><span style=color:#ebcb8b;>Impostor </span><span style=color:#b48ead;>implements </span><span style=color:#ebcb8b;>Person</span><span> {
</span><span>  </span><span style=color:#ebcb8b;>String </span><span style=color:#b48ead;>get </span><span style=color:#8fa1b3;>_name</span><span> => </span><span style=color:#a3be8c;>''</span><span>;
</span><span>
</span><span>  </span><span style=color:#ebcb8b;>String </span><span style=color:#8fa1b3;>greet</span><span>(</span><span style=color:#ebcb8b;>String</span><span> who) => </span><span style=color:#a3be8c;>'Hi $</span><span style=color:#bf616a;>who</span><span style=color:#a3be8c;>. Do you know who I am?'</span><span>;
</span><span>}
</span></code></pre><h2 id=extension-methods>extension methods <a aria-label="anchor link" class=anchor-link href=#extension-methods> # </a></h2><blockquote><p>extension methods == point-free function -> dot method</blockquote><p>Extension methods are <em>pure syntactic sugar</em>. They let us define faux-methods on a type (using dot notation) when we would otherwise be restricted to a static point-free function. In the following example, we can use extension methods to make <code>parseInt("123")</code> into a faux-method on <code>String</code>, like <code>"123".parseInt()</code>.<pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#65737e;>// point free version
</span><span style=color:#ebcb8b;>int </span><span style=color:#8fa1b3;>parseInt</span><span>(</span><span style=color:#ebcb8b;>String</span><span> s) => </span><span style=color:#ebcb8b;>int</span><span>.</span><span style=color:#8fa1b3;>parse</span><span>(s);
</span><span>
</span><span style=color:#65737e;>// a named extension on String
</span><span>extension </span><span style=color:#ebcb8b;>NumberParsing </span><span style=color:#b48ead;>on </span><span style=color:#ebcb8b;>String</span><span> {
</span><span>  </span><span style=color:#ebcb8b;>int </span><span style=color:#8fa1b3;>parseInt</span><span>() => </span><span style=color:#ebcb8b;>int</span><span>.</span><span style=color:#8fa1b3;>parse</span><span>(</span><span style=color:#bf616a;>this</span><span>);
</span><span>}
</span><span>
</span><span style=color:#65737e;>// an unnamed, module-local extension
</span><span>extension </span><span style=color:#b48ead;>on </span><span style=color:#ebcb8b;>String</span><span> {
</span><span>  </span><span style=color:#ebcb8b;>int </span><span style=color:#8fa1b3;>parseInt</span><span>() => </span><span style=color:#ebcb8b;>int</span><span>.</span><span style=color:#8fa1b3;>parse</span><span>(</span><span style=color:#bf616a;>this</span><span>);
</span><span>}
</span><span>
</span><span style=color:#b48ead;>assert</span><span>(</span><span style=color:#ebcb8b;>int</span><span>.</span><span style=color:#8fa1b3;>parse</span><span>(</span><span style=color:#a3be8c;>"123"</span><span>) == </span><span style=color:#d08770;>123</span><span>);
</span><span style=color:#b48ead;>assert</span><span>(</span><span style=color:#8fa1b3;>parseInt</span><span>(</span><span style=color:#a3be8c;>"123"</span><span>) == </span><span style=color:#d08770;>123</span><span>);
</span><span style=color:#b48ead;>assert</span><span>(</span><span style=color:#a3be8c;>"123"</span><span>.</span><span style=color:#8fa1b3;>parseInt</span><span>() == </span><span style=color:#d08770;>123</span><span>);
</span></code></pre><p>You can't invoke extension methods on values with type <code>dynamic</code>.<p>If two modules provide two extension methods of the same name on the same type, you will need to either (1) <code>hide</code> the extension for one of the modules or (2) namespace one of the modules with <code>as</code>.<pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#b48ead;>import </span><span style=color:#a3be8c;>"string_apis.dart"</span><span>; </span><span style=color:#65737e;>// defs String.parseInt() extension
</span><span style=color:#b48ead;>import </span><span style=color:#a3be8c;>"string_apis_2.dart" </span><span style=color:#b48ead;>hide</span><span> NumberParsing2; </span><span style=color:#65737e;>// need to hide the second ext
</span><span>
</span><span style=color:#a3be8c;>"42"</span><span>.</span><span style=color:#8fa1b3;>parseInt</span><span>();
</span></code></pre><pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#b48ead;>import </span><span style=color:#a3be8c;>"string_apis.dart"</span><span>; </span><span style=color:#65737e;>// defs NumberParsing ext
</span><span style=color:#b48ead;>import </span><span style=color:#a3be8c;>"string_apis_3.dart" </span><span style=color:#b48ead;>as</span><span> foo; </span><span style=color:#65737e;>// defs NumberParsing ext
</span><span>
</span><span style=color:#a3be8c;>"42"</span><span>.</span><span style=color:#8fa1b3;>parseInt</span><span>(); </span><span style=color:#65737e;>// << ERROR
</span><span style=color:#ebcb8b;>NumberParsing</span><span>(</span><span style=color:#a3be8c;>"42"</span><span>).</span><span style=color:#8fa1b3;>parseInt</span><span>();
</span><span>foo.</span><span style=color:#ebcb8b;>NumberParsing</span><span>(</span><span style=color:#a3be8c;>"42"</span><span>).</span><span style=color:#8fa1b3;>parseInt</span><span>();
</span></code></pre><h2 id=enums>enums <a aria-label="anchor link" class=anchor-link href=#enums> # </a></h2><p>Dart has basic C-style enums, like:<pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#b48ead;>enum </span><span style=color:#ebcb8b;>Color</span><span> { red, green, blue }
</span></code></pre><p>There's also "enhanced enums" which are <em>NOT</em> like real discriminated unions. This feature just allows enums to have methods and a <em>fixed</em> set of fields shared across all variants.<p>Update(2023/07/14): dart 3 now includes <code>sealed</code> and <code>final</code> classes, plus exhaustive pattern matching. These two features let us mostly emulate real discriminated unions. For example, consider an enum like Rust's <code>Result&LTT, E></code>:<pre class=language-rust data-lang=rust style=background-color:#2b303b;color:#c0c5ce;><code class=language-rust data-lang=rust><span style=color:#b48ead;>pub enum </span><span>Result&LTT, E> {
</span><span>  Ok(T),
</span><span>  Err(E),
</span><span>}
</span></code></pre><p>We can now mostly emulate this in dart 3:<pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span>sealed </span><span style=color:#b48ead;>class </span><span style=color:#ebcb8b;>Result</span><span><</span><span style=color:#ebcb8b;>T</span><span>, </span><span style=color:#ebcb8b;>E</span><span>> {
</span><span>  </span><span style=color:#b48ead;>const </span><span style=color:#ebcb8b;>Result</span><span>();
</span><span>
</span><span>  </span><span style=color:#ebcb8b;>T</span><span>? </span><span style=color:#b48ead;>get</span><span> ok;
</span><span>  </span><span style=color:#ebcb8b;>E</span><span>? </span><span style=color:#b48ead;>get</span><span> err;
</span><span>}
</span><span>
</span><span style=color:#b48ead;>final class </span><span style=color:#ebcb8b;>Ok</span><span><</span><span style=color:#ebcb8b;>T</span><span>, </span><span style=color:#ebcb8b;>E</span><span>>(</span><span style=color:#bf616a;>this</span><span>.ok) </span><span style=color:#b48ead;>extends </span><span style=color:#ebcb8b;>Result</span><span><</span><span style=color:#ebcb8b;>T</span><span>, </span><span style=color:#ebcb8b;>E</span><span>> {
</span><span>  </span><span style=color:#b48ead;>const </span><span style=color:#ebcb8b;>Ok</span><span>(</span><span style=color:#bf616a;>this</span><span>.ok);
</span><span>
</span><span>  </span><span style=color:#b48ead;>@override
</span><span>  </span><span style=color:#b48ead;>final </span><span style=color:#ebcb8b;>T</span><span> ok;
</span><span>  </span><span style=color:#b48ead;>@override
</span><span>  </span><span style=color:#ebcb8b;>E</span><span>? </span><span style=color:#b48ead;>get </span><span style=color:#8fa1b3;>err</span><span> => </span><span style=color:#d08770;>null</span><span>;
</span><span>}
</span><span>
</span><span style=color:#b48ead;>final class </span><span style=color:#ebcb8b;>Err</span><span><</span><span style=color:#ebcb8b;>T</span><span>, </span><span style=color:#ebcb8b;>E</span><span>>(</span><span style=color:#bf616a;>this</span><span>.ok) </span><span style=color:#b48ead;>extends </span><span style=color:#ebcb8b;>Result</span><span><</span><span style=color:#ebcb8b;>T</span><span>, </span><span style=color:#ebcb8b;>E</span><span>> {
</span><span>  </span><span style=color:#b48ead;>const </span><span style=color:#ebcb8b;>Err</span><span>(</span><span style=color:#bf616a;>this</span><span>.err);
</span><span>
</span><span>  </span><span style=color:#b48ead;>@override
</span><span>  </span><span style=color:#b48ead;>final </span><span style=color:#ebcb8b;>E</span><span> err;
</span><span>  </span><span style=color:#b48ead;>@override
</span><span>  </span><span style=color:#ebcb8b;>T</span><span>? </span><span style=color:#b48ead;>get </span><span style=color:#8fa1b3;>ok</span><span> => </span><span style=color:#d08770;>null</span><span>;
</span><span>}
</span></code></pre><p>Using it isn't too bad with exhaustive pattern matching:<pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#b48ead;>final </span><span style=color:#ebcb8b;>Result</span><span><</span><span style=color:#ebcb8b;>int</span><span>, </span><span style=color:#ebcb8b;>String</span><span>> result = </span><span style=color:#ebcb8b;>Ok</span><span>(</span><span style=color:#d08770;>123</span><span>);
</span><span>
</span><span style=color:#65737e;>// using switch-expressions:
</span><span>
</span><span style=color:#b48ead;>final </span><span style=color:#ebcb8b;>bool</span><span> isOk123 = </span><span style=color:#b48ead;>switch</span><span> (result) {
</span><span>  </span><span style=color:#ebcb8b;>Ok</span><span>(:</span><span style=color:#b48ead;>final</span><span> ok) => ok == </span><span style=color:#d08770;>123</span><span>,
</span><span>  </span><span style=color:#ebcb8b;>Err</span><span>() => </span><span style=color:#d08770;>false</span><span>,
</span><span>};
</span><span>
</span><span style=color:#b48ead;>assert</span><span>(isOk123);
</span><span>
</span><span style=color:#65737e;>// or switch-statements:
</span><span>
</span><span style=color:#b48ead;>final </span><span style=color:#ebcb8b;>int</span><span> value;
</span><span style=color:#b48ead;>switch</span><span> (result) {
</span><span>  </span><span style=color:#b48ead;>case </span><span style=color:#ebcb8b;>Ok</span><span>(:</span><span style=color:#b48ead;>final</span><span> ok):
</span><span>    value = ok;
</span><span>  </span><span style=color:#b48ead;>case </span><span style=color:#ebcb8b;>Err</span><span>(:</span><span style=color:#b48ead;>final</span><span> err):
</span><span>    </span><span style=color:#8fa1b3;>print</span><span>(</span><span style=color:#a3be8c;>"Error: $</span><span style=color:#bf616a;>err</span><span style=color:#a3be8c;>"</span><span>);
</span><span>    </span><span style=color:#b48ead;>return</span><span>;
</span><span>}
</span><span>
</span><span style=color:#8fa1b3;>print</span><span>(</span><span style=color:#a3be8c;>"value = $</span><span style=color:#bf616a;>value</span><span style=color:#a3be8c;>"</span><span>);
</span><span style=color:#65737e;>// value = 123
</span></code></pre><h2 id=mixins>mixins <a aria-label="anchor link" class=anchor-link href=#mixins> # </a></h2><blockquote><p><code>mixin</code>s are like <code>abstract class</code>es that can neither be <em>extended</em> nor <em>constructed</em>.</blockquote><p>(philip): looking through dart-lang std, it appears that mixins are almost never used? even interface-only cases, like <code>Comparable&LTT></code>, are just <code>abstract class</code>es. consumers provide the interface by e.g. <code>class X implements Comparable&LTX></code>.<p>(philip): more std: main use case in std seems to be type-specialization? like "implement <code>List&LTint></code> more efficiently for <code>Uint8List</code>".<pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#b48ead;>enum </span><span style=color:#ebcb8b;>Ordering</span><span> { less, equal, greater }
</span><span>
</span><span style=color:#b48ead;>mixin </span><span style=color:#ebcb8b;>PartialOrd</span><span><</span><span style=color:#ebcb8b;>T</span><span>> {
</span><span>  </span><span style=color:#ebcb8b;>Ordering</span><span>? </span><span style=color:#8fa1b3;>partialCmp</span><span>(</span><span style=color:#ebcb8b;>T</span><span> other);
</span><span>}
</span><span>
</span><span style=color:#b48ead;>mixin </span><span style=color:#ebcb8b;>Ord</span><span><</span><span style=color:#ebcb8b;>T</span><span>> </span><span style=color:#b48ead;>on </span><span style=color:#ebcb8b;>PartialOrd</span><span><</span><span style=color:#ebcb8b;>T</span><span>> {
</span><span>  </span><span style=color:#ebcb8b;>Ordering </span><span style=color:#8fa1b3;>cmp</span><span>(</span><span style=color:#ebcb8b;>T</span><span> other);
</span><span>}
</span><span>
</span><span style=color:#b48ead;>class </span><span style=color:#ebcb8b;>BigInt </span><span style=color:#b48ead;>with </span><span style=color:#ebcb8b;>PartialOrd</span><span><</span><span style=color:#ebcb8b;>BigInt</span><span>>, </span><span style=color:#ebcb8b;>Ord</span><span><</span><span style=color:#ebcb8b;>BigInt</span><span>> {
</span><span>  </span><span style=color:#b48ead;>final </span><span style=color:#ebcb8b;>List</span><span><</span><span style=color:#ebcb8b;>int</span><span>> limbs;
</span><span>
</span><span>  </span><span style=color:#b48ead;>const </span><span style=color:#ebcb8b;>BigInt</span><span>() : </span><span style=color:#bf616a;>this</span><span>.limbs = </span><span style=color:#b48ead;>const</span><span> [];
</span><span>
</span><span>  </span><span style=color:#b48ead;>@override
</span><span>  </span><span style=color:#ebcb8b;>Ordering</span><span>? </span><span style=color:#8fa1b3;>partialCmp</span><span>(</span><span style=color:#ebcb8b;>BigInt</span><span> other) => </span><span style=color:#8fa1b3;>cmp</span><span>(other);
</span><span>
</span><span>  </span><span style=color:#b48ead;>@override
</span><span>  </span><span style=color:#ebcb8b;>Ordering </span><span style=color:#8fa1b3;>cmp</span><span>(</span><span style=color:#ebcb8b;>BigInt</span><span> other) {
</span><span>    </span><span style=color:#b48ead;>final</span><span> lenThis = </span><span style=color:#bf616a;>this</span><span>.limbs.length;
</span><span>    </span><span style=color:#b48ead;>final</span><span> lenOther = other.limbs.length;
</span><span>
</span><span>    </span><span style=color:#b48ead;>if</span><span> (lenThis < lenOther) {
</span><span>      </span><span style=color:#b48ead;>return </span><span style=color:#ebcb8b;>Ordering</span><span>.less;
</span><span>    } </span><span style=color:#b48ead;>else if</span><span> (lenThis > lenOther) {
</span><span>      </span><span style=color:#b48ead;>return </span><span style=color:#ebcb8b;>Ordering</span><span>.greater;
</span><span>    } </span><span style=color:#b48ead;>else</span><span> {
</span><span>	  </span><span style=color:#b48ead;>for</span><span> (</span><span style=color:#b48ead;>var</span><span> i = lenThis - </span><span style=color:#d08770;>1</span><span>; i >= </span><span style=color:#d08770;>0</span><span>; i--) {
</span><span>        </span><span style=color:#b48ead;>final</span><span> limbThis = </span><span style=color:#bf616a;>this</span><span>.limbs[i];
</span><span>        </span><span style=color:#b48ead;>final</span><span> limbOther = other.limbs[i];
</span><span>
</span><span>        </span><span style=color:#b48ead;>if</span><span> (limbThis < limbOther) {
</span><span>          </span><span style=color:#b48ead;>return </span><span style=color:#ebcb8b;>Ordering</span><span>.less;
</span><span>        } </span><span style=color:#b48ead;>else if</span><span> (limbThis > limbOther) {
</span><span>          </span><span style=color:#b48ead;>return </span><span style=color:#ebcb8b;>Ordering</span><span>.greater;
</span><span>        }
</span><span>      }
</span><span>
</span><span>      </span><span style=color:#b48ead;>return </span><span style=color:#ebcb8b;>Ordering</span><span>.equal;
</span><span>    }
</span><span>  }
</span><span>}
</span></code></pre><h2 id=libraries>libraries <a aria-label="anchor link" class=anchor-link href=#libraries> # </a></h2><pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#65737e;>// dart-core packages are prefixed with "dart:"
</span><span style=color:#65737e;>// like: `use std::collect::*;`
</span><span style=color:#b48ead;>import </span><span style=color:#a3be8c;>"dart:collection"</span><span>;
</span><span style=color:#65737e;>// external packages are prefixed with "package:"
</span><span style=color:#65737e;>// like: `use serde::de::*;`
</span><span style=color:#b48ead;>import </span><span style=color:#a3be8c;>"package:lib1/lib1.dart"</span><span>;
</span><span>
</span><span style=color:#65737e;>// namespace import
</span><span style=color:#65737e;>// like: `use std::collection as std_collection;`
</span><span style=color:#b48ead;>import </span><span style=color:#a3be8c;>"dart:collection" </span><span style=color:#b48ead;>as</span><span> stdCollection;
</span><span>
</span><span style=color:#65737e;>// only import parts of library
</span><span style=color:#65737e;>// like: `use std::collection::{VecDeque, BTreeMap};`
</span><span style=color:#b48ead;>import </span><span style=color:#a3be8c;>"dart:collection" </span><span style=color:#b48ead;>show</span><span> Queue, Set;
</span><span>
</span><span style=color:#65737e;>// import all but hide some things
</span><span style=color:#b48ead;>import </span><span style=color:#a3be8c;>"dart::collection" </span><span style=color:#b48ead;>hide</span><span> Queue, Set;
</span></code></pre><h2 id=async-await>async/await <a aria-label="anchor link" class=anchor-link href=#async-await> # </a></h2><pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#ebcb8b;>Future</span><span><</span><span style=color:#ebcb8b;>String</span><span>> </span><span style=color:#8fa1b3;>lookup</span><span>() </span><span style=color:#b48ead;>async </span><span>=> </span><span style=color:#a3be8c;>"123"</span><span>;
</span><span style=color:#ebcb8b;>Future</span><span><</span><span style=color:#ebcb8b;>String</span><span>> </span><span style=color:#8fa1b3;>lookup</span><span>() </span><span style=color:#b48ead;>async </span><span>=> </span><span style=color:#b48ead;>await</span><span> http.</span><span style=color:#8fa1b3;>fetch</span><span>(</span><span style=color:#a3be8c;>"google.com"</span><span>);
</span></code></pre><p>Dart uses a single-threaded async runtime, though you can spawn background workers with no shared state that communicate <em>solely</em> through message passing.<h3 id=enable-the-unawaited-futures-lint>enable the <code>unawaited_futures</code> lint <a aria-label="anchor link" class=anchor-link href=#enable-the-unawaited-futures-lint> # </a></h3><p>In stock dart, you can call async methods <em>without awaiting</em> them, which is super suprising to me. Enabling the <code>unawaited_futures</code> lint will tell the compiler to yell at you if you accidentally call an async method without awaiting it. This is like the <code>#[must_use]</code> attribute in Rust but only for dart's <code>Future</code>s.<p>Be sure to enable this lint early on in a project, since a lot of standard flutter code likes to play fast and loose with ignoring futures.<p>Note that there are some occasions where you want to call an async function but not await the returned future, like <code>Navigator.push()</code>, which actually returns a <code>Future&LTT?></code> for the value the new route eventually yields when it <code>Navigator.pop()</code>s. In this particular case, the method synchronously pushes the new route onto the navigation stack and just returns a future for the popped value. If you don't care about the value, use the <code>dart:async</code> <code>unawaited()</code> function, which ignores the returned future:<pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#8fa1b3;>unawaited</span><span>(</span><span style=color:#ebcb8b;>Navigator</span><span>.</span><span style=color:#8fa1b3;>push</span><span>(context, route));
</span></code></pre><p>You should only use <code>unawaited</code> on a future if you're sure it won't return an error. If you don't care about the result regardless, you can use <code>FutureExtensions.ignore</code> like:<pre class=language-dart data-lang=dart style=background-color:#2b303b;color:#c0c5ce;><code class=language-dart data-lang=dart><span style=color:#b48ead;>import </span><span style=color:#a3be8c;>'dart:async' </span><span style=color:#b48ead;>show</span><span> FutureExtensions;
</span><span>
</span><span style=color:#ebcb8b;>Navigator</span><span>.</span><span style=color:#8fa1b3;>push</span><span>(context, route).</span><span style=color:#8fa1b3;>ignore</span><span>();
</span></code></pre><p>Unfortunately, this lint only tells you about unawaited futures... in async code. Which is why you should also...<h3 id=enable-the-discarded-futures-lint>enable the <code>discarded_futures</code> lint <a aria-label="anchor link" class=anchor-link href=#enable-the-discarded-futures-lint> # </a></h3><p>This is like <code>unawaited_futures</code> but also works in sync code. It should be renamed to <code>unawaited_futures_sync</code> IMO. Or <code>unawaited_futures</code> should just work in both contexts...</main></div></div></div><form class=d-none id=search-bar><div class=container><div class="row justify-content-center"><div class="col col-lg-11 col-xl-9" id=search-container><input aria-label="Search notes..." class="form-control is-search" placeholder="Search notes..." autocomplete=off id=userinput type=search><div class="shadow rounded" id=suggestions></div></div></div></div></form><script defer src=https://phlip9.com/notes/js/elasticlunr.min.js></script><script defer src=https://phlip9.com/notes/search_index.en.js></script><script defer src=https://phlip9.com/notes/js/search.js></script>