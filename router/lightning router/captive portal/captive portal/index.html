<!doctype html><html lang=en-US><head><meta charset=utf-8><meta content="ie=edge" http-equiv=x-ua-compatible><meta content="width=device-width,initial-scale=1,shrink-to-fit=no" name=viewport><link href=https://phlip9.com/notes/main.css rel=stylesheet><meta content="index, follow" name=robots><meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name=googlebot><meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name=bingbot><title>captive portal | philip's notes</title><meta content="a collection of my notes" name=description><link href="https://phlip9.com/notes/router/lightning router/captive portal/captive portal/" rel=canonical><meta content=summary name=twitter:card><meta content="captive portal" name=twitter:title><meta content=@phlip9 name=twitter:site><meta content=@phlip9 name=twitter:creator><meta content="captive portal" property=og:title><meta content="a collection of my notes" property=og:description><meta content=article property=og:type><meta content="https://phlip9.com/notes/router/lightning router/captive portal/captive portal/" property=og:url><meta content=2024-10-21T04:08:44.998615 property=og:updated_time><meta content="philip's notes" property=og:site_name><meta content=en_US property=og:locale><script type=application/ld+json>
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "/router/lightning router/captive portal/captive portal/"
    },
    "headline": "captive portal",
    "image": ,
    "datePublished": "2021-12-02",
    "dateModified": "2024-10-21",
    "author": {
      "@type": "Person",
      "name": "Philip Hayes"
    },
    "publisher": {
      "@type": "Person",
      "name": "Philip Hayes",
      
    },
    "description": "a collection of my notes"
  }
  </script><script type=application/ld+json>
  {
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    
      
      
        
        
        
        
        
        
        
        
          {
            "@type": "ListItem",
            "position":  1 ,
            "name": "Home",
            "item": "https://phlip9.com/notes/"
          },
          
          
          {
            "@type": "ListItem",
            "position":  2 ,
            "name": "Router",
            "item": "https://phlip9.com/notes/router/"
          },
        
      
        
        
        
        
        
        
        
        
          
          
          {
            "@type": "ListItem",
            "position":  3 ,
            "name": "Lightning Router",
            "item": "https://phlip9.com/notes/router/lightning router/"
          },
        
      
        
        
        
        
        
        
        
        
          
          
          {
            "@type": "ListItem",
            "position":  4 ,
            "name": "Captive Portal",
            "item": "https://phlip9.com/notes/router/lightning router/captive portal/"
          },
        
      
        
        
        
        
        
        
        
        
          
          
          {
            "@type": "ListItem",
            "position":  5 ,
            "name": "Captive Portal",
            "item": "https://phlip9.com/notes/router/lightning router/captive portal/captive portal/"
          },
        
      
    
  }
</script><meta content=#383866 name=theme-color><link href=https://phlip9.com/notes/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=https://phlip9.com/notes/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=https://phlip9.com/notes/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=https://phlip9.com/notes/site.webmanifest rel=manifest><script>// https://mathjax.github.io/MathJax-demos-web/convert-configuration/convert-configuration.html
        window.MathJax = {
          tex: {
            inlineMath: [
              ['$', '$']
            ],
            displayMath: [
              ['$$', '$$'],
              ['\\[', '\\]']
            ],
            processEscapes: true,
            processEnvironments: true,
          },
          options: {
            skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
          }
        };</script><script integrity="sha256-z47L98YXVhVIaY0uyDzt675P5Ea+w3RsPh9VD5NuoTY=" async crossorigin=anonymous defer id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-chtml.js></script><body class="notes single dark"><div class=container role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 notes-sidebar"><nav aria-label="Main navigation" class=notes-links><a class="navbar-brand link-internal" href=https://phlip9.com/notes/> philip's notes </a><a class="notes-link sidebar-social" href=https://twitter.com/phlip9> <svg class="feather feather-twitter" viewbox="0 0 24 24" fill=none height=20 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=20 xmlns=http://www.w3.org/2000/svg><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg> <span class=visually-hidden>Twitter</span> </a><a class="notes-link sidebar-social" href=https://github.com/phlip9> <svg class="feather feather-github" viewbox="0 0 24 24" fill=none height=20 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=20 xmlns=http://www.w3.org/2000/svg><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg> <span class=visually-hidden>GitHub</span> </a><a class="notes-link sidebar-social" href=# id=sidebar-open-search> <svg aria-labelledby="title desc" viewbox="0 0 19.9 19.7" fill=none height=20 id=search-icon role=img stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 tabindex=0 width=20 xmlns=http://www.w3.org/2000/svg> <g class=search-path><path d="M18.5 18.3l-5.4-5.4"></path><circle cx=8 cy=8 r=7></circle> </g> </svg> </a><hr><ol id=sidebar-tree-root><li><input id=sidebar-input-ai-ml type=checkbox> <label class=h3 for=sidebar-input-ai-ml>AI ML</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/AI ML/Expectimax Search/"> Expectimax Search </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/AI ML/Markov Decision Process (MDP)/"> Markov Decision Process (MDP) </a></ol><li><input id=sidebar-input-wsl type=checkbox> <label class=h3 for=sidebar-input-wsl>WSL</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/WSL/WSL2 custom kernel/"> WSL2 custom kernel </a></ol><li><li><input id=sidebar-input-android type=checkbox> <label class=h3 for=sidebar-input-android>android</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/android/ADB over TCP inside WSL2/"> ADB over TCP inside WSL2 </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/android/OTA updates for rooted android phone/"> OTA updates for rooted android phone </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/android/android cli setup/"> android cli setup </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/android/building signal-android in WSL2/"> building signal-android in WSL2 </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/android/linux ADB udev setup/"> linux ADB udev setup </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/android/root phone with magisk/"> root phone with magisk </a></ol><li><input id=sidebar-input-b-i-g-m-o-n-e-y-l-a-w-r-e-g-u-l-a-t-i-o-n type=checkbox> <label class=h3 for=sidebar-input-b-i-g-m-o-n-e-y-l-a-w-r-e-g-u-l-a-t-i-o-n>b i g m o n e y l a w r e g u l a t i o n</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/b i g m o n e y l a w r e g u l a t i o n/financial instituion/"> financial instituion </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/b i g m o n e y l a w r e g u l a t i o n/foreign bank account report (FBAR)/"> foreign bank account report (FBAR) </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/b i g m o n e y l a w r e g u l a t i o n/monetary instruments/"> monetary instruments </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/b i g m o n e y l a w r e g u l a t i o n/money services business (MSB)/"> money services business (MSB) </a></ol><li><input id=sidebar-input-b-l-o-c-k-c-h-a-i-n type=checkbox> <label class=h3 for=sidebar-input-b-l-o-c-k-c-h-a-i-n>b l o c k c h a i n</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/b l o c k c h a i n/aptos/"> aptos </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/b l o c k c h a i n/bip158 - compact block filters/"> bip158 - compact block filters </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/b l o c k c h a i n/btc utreexo - utxo accumulator/"> btc utreexo - utxo accumulator </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/b l o c k c h a i n/fastpay/"> fastpay </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/b l o c k c h a i n/oasis/"> oasis </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/b l o c k c h a i n/sui/"> sui </a></ol><li><input id=sidebar-input-btc-ln type=checkbox> <label class=h3 for=sidebar-input-btc-ln>btc-ln</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/BOLT 11 - invoices/"> BOLT 11 - invoices </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/BOLT 2 - channel management protocol/"> BOLT 2 - channel management protocol </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/BOLT 4 - onion routing protocol/"> BOLT 4 - onion routing protocol </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/BOLT 7 - p2p node and channel discovery/"> BOLT 7 - p2p node and channel discovery </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/BOLT 8 - secure noise transport/"> BOLT 8 - secure noise transport </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/atomic multipath payments (AMP)/"> atomic multipath payments (AMP) </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/breez lightning service providers/"> breez lightning service providers </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/hosted channels/"> hosted channels </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/lightning libs/"> lightning libs </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/lightning network notes/"> lightning network notes </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/lightning rod/"> lightning rod </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/lightningdevkit - rust-lightning/"> lightningdevkit - rust-lightning </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/submarine swaps/"> submarine swaps </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/btc-ln/zero-conf channels/"> zero-conf channels </a></ol><li><input id=sidebar-input-combinatorics type=checkbox> <label class=h3 for=sidebar-input-combinatorics>combinatorics</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/combinatorics/k-combinations of a multiset/"> k-combinations of a multiset </a></ol><li><input id=sidebar-input-confidential-computing type=checkbox> <label class=h3 for=sidebar-input-confidential-computing>confidential computing</label> <ol><li><input id=sidebar-input-confidential-computing-intel-sgx type=checkbox> <label class=h3 for=sidebar-input-confidential-computing-intel-sgx>intel SGX</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/intel SGX/SGX lingo/"> SGX lingo </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/intel SGX/overview/"> overview </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/intel SGX/remote attestation/"> remote attestation </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/intel SGX/sealing/"> sealing </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/intel SGX/secure time/"> secure time </a></ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/enarx (WASM TEE)/"> enarx (WASM TEE) </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/fortanix rust tutorial/"> fortanix rust tutorial </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/gramine/"> gramine </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/intel TDX/"> intel TDX </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/marblerun/"> marblerun </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/mystikos/"> mystikos </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/confidential computing/remote attestation protocols/"> remote attestation protocols </a></ol><li><input id=sidebar-input-crypto type=checkbox> <label class=h3 for=sidebar-input-crypto>crypto</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/crypto/(talk) authenticated data structures for stateless validation/"> (talk) authenticated data structures for stateless validation </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/crypto/TLS self-signed pubkey-only certs/"> TLS self-signed pubkey-only certs </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/crypto/acme protocol/"> acme protocol </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/crypto/biscuit authz/"> biscuit authz </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/crypto/dex - open-source OIDC & OAuth 2.0 provider/"> dex - open-source OIDC & OAuth 2.0 provider </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/crypto/hkdf-sha256/> hkdf-sha256 </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/crypto/smallstep - private online CA & ACME server/"> smallstep - private online CA & ACME server </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/crypto/tls exported keying material/"> tls exported keying material </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/crypto/zkdocs/> zkdocs </a></ol><li><input id=sidebar-input-design type=checkbox> <label class=h3 for=sidebar-input-design>design</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/design/form design/"> form design </a></ol><li><input id=sidebar-input-devops type=checkbox> <label class=h3 for=sidebar-input-devops>devops</label> <ol><li><input id=sidebar-input-devops-o11y type=checkbox> <label class=h3 for=sidebar-input-devops-o11y>o11y</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/o11y/jaeger oss e2e tracing/"> jaeger oss e2e tracing </a></ol><li><input id=sidebar-input-devops-secrets type=checkbox> <label class=h3 for=sidebar-input-devops-secrets>secrets</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/secrets/1password - secrets automation/"> 1password - secrets automation </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/devops/secrets/doppler/> doppler </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/secrets/ejson (Shopify)/"> ejson (Shopify) </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/secrets/ejson-kms (AWS)/"> ejson-kms (AWS) </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/devops/secrets/envkey/> envkey </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/secrets/fortanix DSM/"> fortanix DSM </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/secrets/mozilla SOPS/"> mozilla SOPS </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/devops/secrets/sops-nix/> sops-nix </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/secrets/sy - share secrets safely/"> sy - share secrets safely </a></ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/AKS - azure kubernetes service/"> AKS - azure kubernetes service </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/algo wireguard VPN server/"> algo wireguard VPN server </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/azure CLI/"> azure CLI </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/devops/consul/> consul </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/deployment strategies/"> deployment strategies </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/docker compose/"> docker compose </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/devops/k3s/> k3s </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/kind (kubernetes in docker)/"> kind (kubernetes in docker) </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/devops/kubernetes/> kubernetes </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/devops/linkerd/> linkerd </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/devops/minikube/> minikube </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/devops/nomad/> nomad </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/devops/service mesh/"> service mesh </a></ol><li><input id=sidebar-input-distributed-systems type=checkbox> <label class=h3 for=sidebar-input-distributed-systems>distributed systems</label> <ol><li><input id=sidebar-input-distributed-systems-papers type=checkbox> <label class=h3 for=sidebar-input-distributed-systems-papers>papers</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/distributed systems/papers/(2020) Semi-Fast Byzantine-tolerant Shared Register without Reliable Broadcast/"> (2020) Semi-Fast Byzantine-tolerant Shared Register without Reliable Broadcast </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/distributed systems/papers/(2021) Leaderless Consensus/"> (2021) Leaderless Consensus </a></ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/distributed systems/the siren song of backpressure/"> the siren song of backpressure </a></ol><li><input id=sidebar-input-fuzzing type=checkbox> <label class=h3 for=sidebar-input-fuzzing>fuzzing</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/fuzzing/bolero - fuzzing + property testing/"> bolero - fuzzing + property testing </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/fuzzing/fuzzcheck-rs/> fuzzcheck-rs </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/fuzzing/fuzzing/> fuzzing </a></ol><li><input id=sidebar-input-ios type=checkbox> <label class=h3 for=sidebar-input-ios>ios</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/ios/ios setup/"> ios setup </a></ol><li><input id=sidebar-input-keyboards type=checkbox> <label class=h3 for=sidebar-input-keyboards>keyboards</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/keyboards/moergo glove80/"> moergo glove80 </a></ol><li><input id=sidebar-input-lang type=checkbox> <label class=h3 for=sidebar-input-lang>lang</label> <ol><li><input id=sidebar-input-lang-ats type=checkbox> <label class=h3 for=sidebar-input-lang-ats>ATS</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/ATS/ATS2 Notes/"> ATS2 Notes </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/ATS/Install ATS2/"> Install ATS2 </a></ol><li><input id=sidebar-input-lang-flutter type=checkbox> <label class=h3 for=sidebar-input-lang-flutter>flutter</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/flutter/dart lang/"> dart lang </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/flutter/flutter setup/"> flutter setup </a></ol><li><input id=sidebar-input-lang-rust type=checkbox> <label class=h3 for=sidebar-input-lang-rust>rust</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/rust/optimizing binary size/"> optimizing binary size </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/rust/rr with rust/"> rr with rust </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/rust/rust verification tools/"> rust verification tools </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/rust/rust x SGX/"> rust x SGX </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/rust/self-referencing structs/"> self-referencing structs </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/rust/sycamore x futures/"> sycamore x futures </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/rust/understanding sycamore reactivity/"> understanding sycamore reactivity </a></ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/gdb ref/"> gdb ref </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/lang/koka-lang/> koka-lang </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/lang/lua/> lua </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/lang/operator fixity and precedence/"> operator fixity and precedence </a></ol><li><input id=sidebar-input-management type=checkbox> <label class=h3 for=sidebar-input-management>management</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/management/relieve often - why generals were more successful in WWII/"> relieve often - why generals were more successful in WWII </a></ol><li><input id=sidebar-input-misc type=checkbox> <label class=h3 for=sidebar-input-misc>misc</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/misc/arm target triples/"> arm target triples </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/misc/envsubst/> envsubst </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/misc/git multirepo to monorepo/"> git multirepo to monorepo </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/misc/kintsugi/> kintsugi </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/misc/optimization solvers/"> optimization solvers </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/misc/pop_OS! tweaks/"> pop_OS! tweaks </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/misc/prepping RPI for embedded dev/"> prepping RPI for embedded dev </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/misc/rgbxmas/> rgbxmas </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/misc/scanning QR codes on desktop/"> scanning QR codes on desktop </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/misc/setting up a headless raspbian boot image/"> setting up a headless raspbian boot image </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/misc/uptime to downtime conversion/"> uptime to downtime conversion </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/misc/water distillation setup/"> water distillation setup </a></ol><li><input id=sidebar-input-networking type=checkbox> <label class=h3 for=sidebar-input-networking>networking</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/networking/CIDR/> CIDR </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/networking/ipv6 address space/"> ipv6 address space </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/networking/network interface card (NIC)/"> network interface card (NIC) </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/networking/network interfaces/"> network interfaces </a></ol><li><input id=sidebar-input-nvim type=checkbox> <label class=h3 for=sidebar-input-nvim>nvim</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/nvim/universal-ctags Notes/"> universal-ctags Notes </a></ol><li><input id=sidebar-input-performance type=checkbox> <label class=h3 for=sidebar-input-performance>performance</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/performance/bit hacks/"> bit hacks </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/performance/dtrace on macOS/"> dtrace on macOS </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/performance/profiling/> profiling </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/performance/simdjson talk/"> simdjson talk </a></ol><li><input id=sidebar-input-postgres type=checkbox> <label class=h3 for=sidebar-input-postgres>postgres</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/postgres/postgres performance tuning/"> postgres performance tuning </a><li class=sidebar-note><a class="notes-link link-internal" href=https://phlip9.com/notes/postgres/snippets/> snippets </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/postgres/types of scans/"> types of scans </a></ol><li><input id=sidebar-input-reproducible-builds type=checkbox> <label class=h3 for=sidebar-input-reproducible-builds>reproducible builds</label> <ol><li><input id=sidebar-input-reproducible-builds-nix type=checkbox> <label class=h3 for=sidebar-input-reproducible-builds-nix>nix</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/reproducible builds/nix/links/"> links </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/reproducible builds/nix/nix auto-allocate-uids -> nixbld users/"> nix auto-allocate-uids -> nixbld users </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/reproducible builds/nix/nix debug broken package build/"> nix debug broken package build </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/reproducible builds/nix/nix debug spurrious rebuilds/"> nix debug spurrious rebuilds </a></ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/reproducible builds/earthly/"> earthly </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/reproducible builds/rebuilderd/"> rebuilderd </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/reproducible builds/reproducible-builds.org/"> reproducible-builds.org </a></ol><li><input checked id=sidebar-input-router type=checkbox> <label class=h3 for=sidebar-input-router>router</label> <ol><li><input checked id=sidebar-input-router-lightning-router type=checkbox> <label class=h3 for=sidebar-input-router-lightning-router>lightning router</label> <ol><li><input checked id=sidebar-input-router-lightning-router-captive-portal type=checkbox> <label class=h3 for=sidebar-input-router-lightning-router-captive-portal>captive portal</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/router/lightning router/captive portal/RFC 6585 (Additional HTTP Status Codes)/"> RFC 6585 (Additional HTTP Status Codes) </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/router/lightning router/captive portal/arubanetworks captive portal/"> arubanetworks captive portal </a><li class=sidebar-note><a class="notes-link link-internal active" href="https://phlip9.com/notes/router/lightning router/captive portal/captive portal/"> captive portal </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/router/lightning router/captive portal/captive portal (wikipedia)/"> captive portal (wikipedia) </a></ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/router/lightning router/lightning router overview/"> lightning router overview </a></ol></ol><li><input id=sidebar-input-statistics-probability type=checkbox> <label class=h3 for=sidebar-input-statistics-probability>statistics probability</label> <ol><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/CDF confidence bands - DKW inequality/"> CDF confidence bands - DKW inequality </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/G-test - multinomial goodness-of-fit/"> G-test - multinomial goodness-of-fit </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/MAD - median absolute deviation/"> MAD - median absolute deviation </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/cheat sheet/"> cheat sheet </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/herbie - float error fixer/"> herbie - float error fixer </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/kelly criterion + ELO/"> kelly criterion + ELO </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/multinomial distribution/"> multinomial distribution </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/p-value/"> p-value </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/standard error/"> standard error </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/testing whether a coin is fair/"> testing whether a coin is fair </a><li class=sidebar-note><a class="notes-link link-internal" href="https://phlip9.com/notes/statistics probability/winsorize/"> winsorize </a></ol></ol></nav></div><nav aria-label="Secondary navigation" class="notes-toc d-none d-xl-block col-xl-4"><div class=page-links><h3 class=text-muted>on this page</h3><nav id=table-of-contents><ul><li><a href="https://phlip9.com/notes/router/lightning router/captive portal/captive portal/#captive-portal" class=link-internal>captive portal</a><li><a href="https://phlip9.com/notes/router/lightning router/captive portal/captive portal/#rfc-6585-additional-http-status-codes" class=link-internal>RFC 6585 (Additional HTTP Status Codes)</a> <ul><li><a href="https://phlip9.com/notes/router/lightning router/captive portal/captive portal/#abstract" class=link-internal>Abstract</a><li><a href="https://phlip9.com/notes/router/lightning router/captive portal/captive portal/#status-of-this-memo" class=link-internal>Status of This Memo</a><li><a href="https://phlip9.com/notes/router/lightning router/captive portal/captive portal/#copyright-notice" class=link-internal>Copyright Notice</a><li><a href="https://phlip9.com/notes/router/lightning router/captive portal/captive portal/#introduction" class=link-internal>Introduction</a><li><a href="https://phlip9.com/notes/router/lightning router/captive portal/captive portal/#requirements" class=link-internal>Requirements</a><li><a href="https://phlip9.com/notes/router/lightning router/captive portal/captive portal/#428-precondition-required" class=link-internal>428 Precondition Required</a><li><a href="https://phlip9.com/notes/router/lightning router/captive portal/captive portal/#429-too-many-requests" class=link-internal>429 Too Many Requests</a><li><a href="https://phlip9.com/notes/router/lightning router/captive portal/captive portal/#431-request-header-fields-too-large" class=link-internal>431 Request Header Fields Too Large</a><li><a href="https://phlip9.com/notes/router/lightning router/captive portal/captive portal/#511-network-authentication-required-8c7492" class=link-internal>511 Network Authentication Required ^8c7492</a> <ul><li><a href="https://phlip9.com/notes/router/lightning router/captive portal/captive portal/#the-511-status-code-and-captive-portals" class=link-internal>The 511 Status Code and Captive Portals</a> <ul><li><a href="https://phlip9.com/notes/router/lightning router/captive portal/captive portal/#511-captive-portal-example" class=link-internal>511 Captive Portal Example</a></ul></ul><li><a href="https://phlip9.com/notes/router/lightning router/captive portal/captive portal/#security-considerations" class=link-internal>Security Considerations</a> <ul><li><a href="https://phlip9.com/notes/router/lightning router/captive portal/captive portal/#428-precondition-required-1" class=link-internal>428 Precondition Required</a><li><a href="https://phlip9.com/notes/router/lightning router/captive portal/captive portal/#429-too-many-requests-1" class=link-internal>429 Too Many Requests</a><li><a href="https://phlip9.com/notes/router/lightning router/captive portal/captive portal/#431-request-header-fields-too-large-1" class=link-internal>431 Request Header Fields Too Large</a><li><a href="https://phlip9.com/notes/router/lightning router/captive portal/captive portal/#511-network-authentication-required-security" class=link-internal>511 Network Authentication Required (Security)</a></ul><li><a href="https://phlip9.com/notes/router/lightning router/captive portal/captive portal/#iana-considerations" class=link-internal>IANA Considerations</a><li><a href="https://phlip9.com/notes/router/lightning router/captive portal/captive portal/#references" class=link-internal>References</a></ul></ul></nav></div></nav><main class="notes-content tags-content col-lg-11 col-xl-8"><h1 id=captive-portal>captive portal</h1><p class=text-muted>2021-12-02 Â· 23 min read<ul class=tags><li><a class="btn btn-outline-primary btn-sm link-internal" href=https://phlip9.com/notes/tags/captive-portal/>#captive-portal</a></ul><p><a href=https://phlip9.com/notes/router/lightning%20router/captive%20portal/captive%20portal%20(wikipedia)/>captive portal (wikipedia)</a><p><a href=https://phlip9.com/notes/router/lightning%20router/captive%20portal/RFC%206585%20(Additional%20HTTP%20Status%20Codes)/#511-network-authentication-required-8c7492>RFC 6585 (Additional HTTP Status Codes) > 511 Network Authentication Required 8c7492</a><h1 id=rfc-6585-additional-http-status-codes>RFC 6585 (Additional HTTP Status Codes)</h1><pre style=background-color:#2b303b;color:#c0c5ce;><code><span>Internet Engineering Task Force (IETF)                     M. Nottingham
</span><span>Request for Comments: 6585                                     Rackspace
</span><span>Updates: 2616                                                R. Fielding
</span><span>Category: Standards Track                                          Adobe
</span><span>ISSN: 2070-1721                                               April 2012
</span></code></pre><h2 id=abstract>Abstract <a aria-label="anchor link" class=anchor-link href=#abstract> # </a></h2><p>This document specifies additional HyperText Transfer Protocol (HTTP) status codes for a variety of common situations.<h2 id=status-of-this-memo>Status of This Memo <a aria-label="anchor link" class=anchor-link href=#status-of-this-memo> # </a></h2><p>This is an Internet Standards Track document.<p>This document is a product of the Internet Engineering Task Force (IETF). It represents the consensus of the IETF community. It has received public review and has been approved for publication by the Internet Engineering Steering Group (IESG). Further information on Internet Standards is available in Section 2 of RFC 5741.<p>Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at <a href=http://www.rfc-editor.org/info/rfc6585>http://www.rfc-editor.org/info/rfc6585</a>.<h2 id=copyright-notice>Copyright Notice <a aria-label="anchor link" class=anchor-link href=#copyright-notice> # </a></h2><p>Copyright (c) 2012 IETF Trust and the persons identified as the document authors. All rights reserved.<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (<a href=http://trustee.ietf.org/license-info>http://trustee.ietf.org/license-info</a>) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.<h2 id=introduction>Introduction <a aria-label="anchor link" class=anchor-link href=#introduction> # </a></h2><p>This document specifies additional HTTP [RFC2616] status codes for a variety of common situations, to improve interoperability and avoid confusion when other, less precise status codes are used.<p>Note that these status codes are optional; servers cannot be required to support them. However, because clients will treat unknown status codes as a generic error of the same class (e.g., 499 is treated as 400 if it is not recognized), they can be safely deployed by existing servers (see [RFC2616] Section 6.1.1 for more information).<h2 id=requirements>Requirements <a aria-label="anchor link" class=anchor-link href=#requirements> # </a></h2><p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in [RFC2119].<h2 id=428-precondition-required>428 Precondition Required <a aria-label="anchor link" class=anchor-link href=#428-precondition-required> # </a></h2><p>The 428 status code indicates that the origin server requires the request to be conditional.<p>Its typical use is to avoid the "lost update" problem, where a client GETs a resource's state, modifies it, and PUTs it back to the server, when meanwhile a third party has modified the state on the server, leading to a conflict. By requiring requests to be conditional, the server can assure that clients are working with the correct copies.<p>Responses using this status code SHOULD explain how to resubmit the request successfully. For example:<p>HTTP/1.1 428 Precondition Required Content-Type: text/html<pre class=language-html data-lang=html style=background-color:#2b303b;color:#c0c5ce;><code class=language-html data-lang=html><span><</span><span style=color:#bf616a;>html</span><span>>
</span><span>   <</span><span style=color:#bf616a;>head</span><span>>
</span><span>      <</span><span style=color:#bf616a;>title</span><span>>Precondition Required&LT/</span><span style=color:#bf616a;>title</span><span>>
</span><span>   &LT/</span><span style=color:#bf616a;>head</span><span>>
</span><span>   <</span><span style=color:#bf616a;>body</span><span>>
</span><span>      <</span><span style=color:#bf616a;>h1</span><span>>Precondition Required&LT/</span><span style=color:#bf616a;>h1</span><span>>
</span><span>      <</span><span style=color:#bf616a;>p</span><span>>This request is required to be conditional;
</span><span>      try using "If-Match".&LT/</span><span style=color:#bf616a;>p</span><span>>
</span><span>   &LT/</span><span style=color:#bf616a;>body</span><span>>
</span><span>&LT/</span><span style=color:#bf616a;>html</span><span>>
</span></code></pre><p>Responses with the 428 status code MUST NOT be stored by a cache.<h2 id=429-too-many-requests>429 Too Many Requests <a aria-label="anchor link" class=anchor-link href=#429-too-many-requests> # </a></h2><p>The 429 status code indicates that the user has sent too many requests in a given amount of time ("rate limiting").<p>The response representations SHOULD include details explaining the condition, and MAY include a Retry-After header indicating how long to wait before making a new request.<p>For example:<p>HTTP/1.1 429 Too Many Requests Content-Type: text/html Retry-After: 3600<pre class=language-html data-lang=html style=background-color:#2b303b;color:#c0c5ce;><code class=language-html data-lang=html><span>   <</span><span style=color:#bf616a;>html</span><span>>
</span><span>      <</span><span style=color:#bf616a;>head</span><span>>
</span><span>         <</span><span style=color:#bf616a;>title</span><span>>Too Many Requests&LT/</span><span style=color:#bf616a;>title</span><span>>
</span><span>      &LT/</span><span style=color:#bf616a;>head</span><span>>
</span><span>      <</span><span style=color:#bf616a;>body</span><span>>
</span><span>         <</span><span style=color:#bf616a;>h1</span><span>>Too Many Requests&LT/</span><span style=color:#bf616a;>h1</span><span>>
</span><span>         <</span><span style=color:#bf616a;>p</span><span>>I only allow 50 requests per hour to this Web site per
</span><span>            logged in user.  Try again soon.&LT/</span><span style=color:#bf616a;>p</span><span>>
</span><span>      &LT/</span><span style=color:#bf616a;>body</span><span>>
</span><span>   &LT/</span><span style=color:#bf616a;>html</span><span>>
</span></code></pre><p>Note that this specification does not define how the origin server identifies the user, nor how it counts requests. For example, an origin server that is limiting request rates can do so based upon counts of requests on a per-resource basis, across the entire server, or even among a set of servers. Likewise, it might identify the user by its authentication credentials, or a stateful cookie.<p>Responses with the 429 status code MUST NOT be stored by a cache.<h2 id=431-request-header-fields-too-large>431 Request Header Fields Too Large <a aria-label="anchor link" class=anchor-link href=#431-request-header-fields-too-large> # </a></h2><p>The 431 status code indicates that the server is unwilling to process the request because its header fields are too large. The request MAY be resubmitted after reducing the size of the request header fields.<p>It can be used both when the set of request header fields in total is too large, and when a single header field is at fault. In the latter case, the response representation SHOULD specify which header field was too large.<p>For example:<p>HTTP/1.1 431 Request Header Fields Too Large Content-Type: text/html<pre class=language-html data-lang=html style=background-color:#2b303b;color:#c0c5ce;><code class=language-html data-lang=html><span>   <</span><span style=color:#bf616a;>html</span><span>>
</span><span>      <</span><span style=color:#bf616a;>head</span><span>>
</span><span>         <</span><span style=color:#bf616a;>title</span><span>>Request Header Fields Too Large&LT/</span><span style=color:#bf616a;>title</span><span>>
</span><span>      &LT/</span><span style=color:#bf616a;>head</span><span>>
</span><span>      <</span><span style=color:#bf616a;>body</span><span>>
</span><span>         <</span><span style=color:#bf616a;>h1</span><span>>Request Header Fields Too Large&LT/</span><span style=color:#bf616a;>h1</span><span>>
</span><span>         <</span><span style=color:#bf616a;>p</span><span>>The "Example" header was too large.&LT/</span><span style=color:#bf616a;>p</span><span>>
</span><span>      &LT/</span><span style=color:#bf616a;>body</span><span>>
</span><span>   &LT/</span><span style=color:#bf616a;>html</span><span>>
</span></code></pre><p>Responses with the 431 status code MUST NOT be stored by a cache.<h2 id=511-network-authentication-required-8c7492>511 Network Authentication Required ^8c7492 <a aria-label="anchor link" class=anchor-link href=#511-network-authentication-required-8c7492> # </a></h2><p>The 511 status code indicates that the client needs to authenticate to gain network access.<p>The response representation SHOULD contain a link to a resource that allows the user to submit credentials (e.g., with an HTML form).<p>Note that the 511 response SHOULD NOT contain a challenge or the login interface itself, because browsers would show the login interface as being associated with the originally requested URL, which may cause confusion.<p>The 511 status SHOULD NOT be generated by origin servers; it is intended for use by intercepting proxies that are interposed as a means of controlling access to the network.<p>Responses with the 511 status code MUST NOT be stored by a cache.<h3 id=the-511-status-code-and-captive-portals>The 511 Status Code and Captive Portals <a aria-label="anchor link" class=anchor-link href=#the-511-status-code-and-captive-portals> # </a></h3><p>The 511 status code is designed to mitigate problems caused by "captive portals" to software (especially non-browser agents) that is expecting a response from the server that a request was made to, not the intervening network infrastructure. It is not intended to encourage deployment of captive portals -- only to limit the damage caused by them.<p>A network operator wishing to require some authentication, acceptance of terms, or other user interaction before granting access usually does so by identifying clients who have not done so ("unknown clients") using their Media Access Control (MAC) addresses. ^615a1d<p>Unknown clients then have all traffic blocked, except for that on TCP port 80, which is sent to an HTTP server (the "login server") dedicated to "logging in" unknown clients, and of course traffic to the login server itself. ^521ac1<h4 id=511-captive-portal-example>511 Captive Portal Example <a aria-label="anchor link" class=anchor-link href=#511-captive-portal-example> # </a></h4><p>For example, a user agent might connect to a network and make the following HTTP request on TCP port 80:<pre class=language-http data-lang=http style=background-color:#2b303b;color:#c0c5ce;><code class=language-http data-lang=http><span>GET /index.htm HTTP/1.1
</span><span>Host: www.example.com
</span></code></pre><p>Upon receiving such a request, the login server would generate a 511 response:<pre class=language-http data-lang=http style=background-color:#2b303b;color:#c0c5ce;><code class=language-http data-lang=http><span>HTTP/1.1 511 Network Authentication Required
</span><span>Content-Type: text/html
</span></code></pre><pre class=language-html data-lang=html style=background-color:#2b303b;color:#c0c5ce;><code class=language-html data-lang=html><span>   <</span><span style=color:#bf616a;>html</span><span>>
</span><span>      <</span><span style=color:#bf616a;>head</span><span>>
</span><span>         <</span><span style=color:#bf616a;>title</span><span>>Network Authentication Required&LT/</span><span style=color:#bf616a;>title</span><span>>
</span><span>         <</span><span style=color:#bf616a;>meta </span><span style=color:#d08770;>http-equiv</span><span>="</span><span style=color:#a3be8c;>refresh</span><span>"
</span><span>               </span><span style=color:#d08770;>content</span><span>="</span><span style=color:#a3be8c;>0; url=https://login.example.net/</span><span>">
</span><span>      &LT/</span><span style=color:#bf616a;>head</span><span>>
</span><span>      <</span><span style=color:#bf616a;>body</span><span>>
</span><span>         <</span><span style=color:#bf616a;>p</span><span>>You need to <</span><span style=color:#bf616a;>a </span><span style=color:#d08770;>href</span><span>="</span><span style=color:#a3be8c;>https://login.example.net/</span><span>">
</span><span>         authenticate with the local network&LT/</span><span style=color:#bf616a;>a</span><span>> in order to gain
</span><span>         access.&LT/</span><span style=color:#bf616a;>p</span><span>>
</span><span>      &LT/</span><span style=color:#bf616a;>body</span><span>>
</span><span>   &LT/</span><span style=color:#bf616a;>html</span><span>>
</span></code></pre><p>Here, the 511 status code assures that non-browser clients will not interpret the response as being from the origin server, and the META HTML element redirects the user agent to the login server.<h2 id=security-considerations>Security Considerations <a aria-label="anchor link" class=anchor-link href=#security-considerations> # </a></h2><h3 id=428-precondition-required-1>428 Precondition Required <a aria-label="anchor link" class=anchor-link href=#428-precondition-required-1> # </a></h3><p>The 428 status code is optional; clients cannot rely upon its use to prevent "lost update" conflicts.<h3 id=429-too-many-requests-1>429 Too Many Requests <a aria-label="anchor link" class=anchor-link href=#429-too-many-requests-1> # </a></h3><p>When a server is under attack or just receiving a very large number of requests from a single party, responding to each with a 429 status code will consume resources.<p>Therefore, servers are not required to use the 429 status code; when limiting resource usage, it may be more appropriate to just drop connections, or take other steps.<h3 id=431-request-header-fields-too-large-1>431 Request Header Fields Too Large <a aria-label="anchor link" class=anchor-link href=#431-request-header-fields-too-large-1> # </a></h3><p>Servers are not required to use the 431 status code; when under attack, it may be more appropriate to just drop connections, or take other steps.<h3 id=511-network-authentication-required-security>511 Network Authentication Required (Security) <a aria-label="anchor link" class=anchor-link href=#511-network-authentication-required-security> # </a></h3><p>In common use, a response carrying the 511 status code will not come from the origin server indicated in the request's URL. This presents many security issues; e.g., an attacking intermediary may be inserting cookies into the original domain's name space, may be observing cookies or HTTP authentication credentials sent from the user agent, and so on.<p>However, these risks are not unique to the 511 status code; in other words, a captive portal that is not using this status code introduces the same issues.<p>Also, note that captive portals using this status code on a Secure Socket Layer (SSL) or Transport Layer Security (TLS) connection (commonly, port 443) will generate a certificate error on the client.<h2 id=iana-considerations>IANA Considerations <a aria-label="anchor link" class=anchor-link href=#iana-considerations> # </a></h2><p>The HTTP Status Codes registry has been updated with the following entries:<pre style=background-color:#2b303b;color:#c0c5ce;><code><span>  Value: 428
</span><span>  Description: Precondition Required
</span><span>  Reference: [RFC6585]
</span><span>
</span><span>  Value: 429
</span><span>  Description: Too Many Requests
</span><span>  Reference: [RFC6585]
</span><span>
</span><span>  Value: 431
</span><span>  Description: Request Header Fields Too Large
</span><span>  Reference: [RFC6585]
</span><span>
</span><span>  Value: 511
</span><span>  Description: Network Authentication Required
</span><span>  Reference: [RFC6585]
</span></code></pre><h2 id=references>References <a aria-label="anchor link" class=anchor-link href=#references> # </a></h2><p>9.1. Normative References</p> \[ Requirement Levels", BCP 14, RFC 2119, March 1997. \[RFC2616\] Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, "Hypertext Transfer Protocol -- HTTP/1.1", RFC 2616, June 1999. 9.2. Informative References \[CORS\] van Kesteren, A., Ed., "Cross-Origin Resource Sharing", W3C Working Draft WD-cors-20100727, July 2010, <http: cors tr www.w3.org>. \[Favicon\] Wikipedia, "Favicon", March 2012, \<http: index.php?title="Favicon&oldid=484627550" en.wikipedia.org w>. \[OAuth2.0\] Hammer-Lahav, E., Ed., Recordon, D., and D. Hardt, "The OAuth 2.0 Authorization Protocol", Work in Progress, March 2012. Nottingham & Fielding Standards Track \[Page 7\] RFC 6585 Additional HTTP Status Codes April 2012 \[P3P\] Marchiori, M., Ed., "The Platform for Privacy Preferences 1.0 (P3P1.0) Specification", W3C Recommendation REC-P3P-20020416, April 2002, <http: p3p tr www.w3.org>. \[RFC4791\] Daboo, C., Desruisseaux, B., and L. Dusseault, "Calendaring Extensions to WebDAV (CalDAV)", RFC 4791, March 2007. \[RFC4918\] Dusseault, L., Ed., "HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV)", RFC 4918, June 2007. \[WIDGETS\] Caceres, M., Ed., "Widget Packaging and XML Configuration", W3C Recommendation REC-widgets-20110927, September 2011, <http: tr widgets www.w3.org>. \[WebFinger\] WebFinger Project, "WebFingerProtocol (Draft)", January 2010, \<http: code.google.com p webfinger webfingerprotocol wiki>. ## Appendix ### Appendix A. Acknowledgements Thanks to Jan Algermissen and Julian Reschke for their suggestions and feedback. ### Appendix B. Issues Raised by Captive Portals Since clients cannot differentiate between a portal's response and that of the HTTP server that they intended to communicate with, a number of issues arise. The 511 status code is intended to help mitigate some of them. One example is the "favicon.ico" \[Favicon\] commonly used by browsers to identify the site being accessed. If the favicon for a given site is fetched from a captive portal instead of the intended site (e.g., because the user is unauthenticated), it will often "stick" in the browser's cache (most implementations cache favicons aggressively) beyond the portal session, so that it seems as if the portal's favicon has "taken over" the legitimate site. Another browser-based issue comes about when the Platform for Privacy Preferences \[P3P\] is supported. Depending on how it is implemented, it's possible a browser might interpret a portal's response for the p3p.xml file as the server's, resulting in the privacy policy (or lack thereof) advertised by the portal being interpreted as applying to the intended site. Other Web-based protocols such as WebFinger \[WebFinger\], Cross-Origin Resource Sharing \[CORS\], and Open Authorization \[OAuth2.0\] may also be vulnerable to such issues. Although HTTP is most widely used with Web browsers, a growing number of non-browsing applications use it as a substrate protocol. For example, Web Distributed Authoring and Versioning (WebDAV) \[RFC4918\] and Calendaring Extensions to WebDAV (CalDAV) \[RFC4791\] both use HTTP as the basis (for remote authoring and calendaring, respectively). Using these applications from behind a captive portal can result in spurious errors being presented to the user, and might result in content corruption, in extreme cases. Similarly, other non-browser applications using HTTP can be affected as well, e.g., widgets \[WIDGETS\], software updates, and other specialized software such as Twitter clients and the iTunes Music Store. It should be noted that it's sometimes believed that using HTTP redirection to direct traffic to the portal addresses these issues. However, since many of these uses "follow" redirects, this is not a good solution. Authors' Addresses Mark Nottingham Rackspace EMail: mnot@mnot.net URI: http://www.mnot.net/ Roy T. Fielding Adobe Systems Incorporated 345 Park Ave. San Jose, CA 95110 USA EMail: fielding@gbiv.com URI: http://roy.gbiv.com/ # RFC 6585 (Additional HTTP Status Codes) ```` Internet Engineering Task Force (IETF) M. Nottingham Request for Comments: 6585 Rackspace Updates: 2616 R. Fielding Category: Standards Track Adobe ISSN: 2070-1721 April 2012 ```` ## Abstract This document specifies additional HyperText Transfer Protocol (HTTP) status codes for a variety of common situations. ## Status of This Memo This is an Internet Standards Track document. This document is a product of the Internet Engineering Task Force (IETF). It represents the consensus of the IETF community. It has received public review and has been approved for publication by the Internet Engineering Steering Group (IESG). Further information on Internet Standards is available in Section 2 of RFC 5741. Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at <http: info rfc6585 www.rfc-editor.org>. ## Copyright Notice Copyright (c) 2012 IETF Trust and the persons identified as the document authors. All rights reserved. This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (<http: license-info trustee.ietf.org>) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License. ## Introduction This document specifies additional HTTP \[RFC2616\] status codes for a variety of common situations, to improve interoperability and avoid confusion when other, less precise status codes are used. Note that these status codes are optional; servers cannot be required to support them. However, because clients will treat unknown status codes as a generic error of the same class (e.g., 499 is treated as 400 if it is not recognized), they can be safely deployed by existing servers (see \[RFC2616\] Section 6.1.1 for more information). ## Requirements The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in \[RFC2119\]. ## 428 Precondition Required The 428 status code indicates that the origin server requires the request to be conditional. Its typical use is to avoid the "lost update" problem, where a client GETs a resource's state, modifies it, and PUTs it back to the server, when meanwhile a third party has modified the state on the server, leading to a conflict. By requiring requests to be conditional, the server can assure that clients are working with the correct copies. Responses using this status code SHOULD explain how to resubmit the request successfully. For example: HTTP/1.1 428 Precondition Required Content-Type: text/html ````html <title>Precondition Required</title> <h1>Precondition Required</h1> <p>This request is required to be conditional; try using "If-Match".</p> ```` Responses with the 428 status code MUST NOT be stored by a cache. ## 429 Too Many Requests The 429 status code indicates that the user has sent too many requests in a given amount of time ("rate limiting"). The response representations SHOULD include details explaining the condition, and MAY include a Retry-After header indicating how long to wait before making a new request. For example: HTTP/1.1 429 Too Many Requests Content-Type: text/html Retry-After: 3600 ````html <title>Too Many Requests</title> <h1>Too Many Requests</h1> <p>I only allow 50 requests per hour to this Web site per logged in user. Try again soon.</p> ```` Note that this specification does not define how the origin server identifies the user, nor how it counts requests. For example, an origin server that is limiting request rates can do so based upon counts of requests on a per-resource basis, across the entire server, or even among a set of servers. Likewise, it might identify the user by its authentication credentials, or a stateful cookie. Responses with the 429 status code MUST NOT be stored by a cache. ## 431 Request Header Fields Too Large The 431 status code indicates that the server is unwilling to process the request because its header fields are too large. The request MAY be resubmitted after reducing the size of the request header fields. It can be used both when the set of request header fields in total is too large, and when a single header field is at fault. In the latter case, the response representation SHOULD specify which header field was too large. For example: HTTP/1.1 431 Request Header Fields Too Large Content-Type: text/html ````html <title>Request Header Fields Too Large</title> <h1>Request Header Fields Too Large</h1> <p>The "Example" header was too large.</p> ```` Responses with the 431 status code MUST NOT be stored by a cache. ## 511 Network Authentication Required ^8c7492 The 511 status code indicates that the client needs to authenticate to gain network access. The response representation SHOULD contain a link to a resource that allows the user to submit credentials (e.g., with an HTML form). Note that the 511 response SHOULD NOT contain a challenge or the login interface itself, because browsers would show the login interface as being associated with the originally requested URL, which may cause confusion. The 511 status SHOULD NOT be generated by origin servers; it is intended for use by intercepting proxies that are interposed as a means of controlling access to the network. Responses with the 511 status code MUST NOT be stored by a cache. ### The 511 Status Code and Captive Portals The 511 status code is designed to mitigate problems caused by "captive portals" to software (especially non-browser agents) that is expecting a response from the server that a request was made to, not the intervening network infrastructure. It is not intended to encourage deployment of captive portals -- only to limit the damage caused by them. A network operator wishing to require some authentication, acceptance of terms, or other user interaction before granting access usually does so by identifying clients who have not done so ("unknown clients") using their Media Access Control (MAC) addresses. ^615a1d Unknown clients then have all traffic blocked, except for that on TCP port 80, which is sent to an HTTP server (the "login server") dedicated to "logging in" unknown clients, and of course traffic to the login server itself. ^521ac1 #### 511 Captive Portal Example For example, a user agent might connect to a network and make the following HTTP request on TCP port 80: ````http GET /index.htm HTTP/1.1 Host: www.example.com ```` Upon receiving such a request, the login server would generate a 511 response: ````http HTTP/1.1 511 Network Authentication Required Content-Type: text/html ```` ````html <title>Network Authentication Required</title> <meta content="0; url=https://login.example.net/" http-equiv=refresh> <p>You need to <a href=https://login.example.net/> authenticate with the local network</a> in order to gain access.</p> ```` Here, the 511 status code assures that non-browser clients will not interpret the response as being from the origin server, and the META HTML element redirects the user agent to the login server. ## Security Considerations ### 428 Precondition Required The 428 status code is optional; clients cannot rely upon its use to prevent "lost update" conflicts. ### 429 Too Many Requests When a server is under attack or just receiving a very large number of requests from a single party, responding to each with a 429 status code will consume resources. Therefore, servers are not required to use the 429 status code; when limiting resource usage, it may be more appropriate to just drop connections, or take other steps. ### 431 Request Header Fields Too Large Servers are not required to use the 431 status code; when under attack, it may be more appropriate to just drop connections, or take other steps. ### 511 Network Authentication Required (Security) In common use, a response carrying the 511 status code will not come from the origin server indicated in the request's URL. This presents many security issues; e.g., an attacking intermediary may be inserting cookies into the original domain's name space, may be observing cookies or HTTP authentication credentials sent from the user agent, and so on. However, these risks are not unique to the 511 status code; in other words, a captive portal that is not using this status code introduces the same issues. Also, note that captive portals using this status code on a Secure Socket Layer (SSL) or Transport Layer Security (TLS) connection (commonly, port 443) will generate a certificate error on the client. ## IANA Considerations The HTTP Status Codes registry has been updated with the following entries: ```` Value: 428 Description: Precondition Required Reference: [RFC6585] Value: 429 Description: Too Many Requests Reference: [RFC6585] Value: 431 Description: Request Header Fields Too Large Reference: [RFC6585] Value: 511 Description: Network Authentication Required Reference: [RFC6585] ```` ## References 9.1. Normative References \[RFC2119\] Bradner, S., "Key words for use in RFCs to Indicate Requirement Levels", BCP 14, RFC 2119, March 1997. \[RFC2616\] Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, "Hypertext Transfer Protocol -- HTTP/1.1", RFC 2616, June 1999. 9.2. Informative References \[CORS\] van Kesteren, A., Ed., "Cross-Origin Resource Sharing", W3C Working Draft WD-cors-20100727, July 2010, <http: cors tr www.w3.org>. \[Favicon\] Wikipedia, "Favicon", March 2012, \<http: index.php?title="Favicon&oldid=484627550" en.wikipedia.org w>. \[OAuth2.0\] Hammer-Lahav, E., Ed., Recordon, D., and D. Hardt, "The OAuth 2.0 Authorization Protocol", Work in Progress, March 2012. Nottingham & Fielding Standards Track \[Page 7\] RFC 6585 Additional HTTP Status Codes April 2012 \[P3P\] Marchiori, M., Ed., "The Platform for Privacy Preferences 1.0 (P3P1.0) Specification", W3C Recommendation REC-P3P-20020416, April 2002, <http: p3p tr www.w3.org>. \[RFC4791\] Daboo, C., Desruisseaux, B., and L. Dusseault, "Calendaring Extensions to WebDAV (CalDAV)", RFC 4791, March 2007. \[RFC4918\] Dusseault, L., Ed., "HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV)", RFC 4918, June 2007. \[WIDGETS\] Caceres, M., Ed., "Widget Packaging and XML Configuration", W3C Recommendation REC-widgets-20110927, September 2011, <http: tr widgets www.w3.org>. \[WebFinger\] WebFinger Project, "WebFingerProtocol (Draft)", January 2010, \<http: code.google.com p webfinger webfingerprotocol wiki>. ## Appendix ### Appendix A. Acknowledgements Thanks to Jan Algermissen and Julian Reschke for their suggestions and feedback. ### Appendix B. Issues Raised by Captive Portals Since clients cannot differentiate between a portal's response and that of the HTTP server that they intended to communicate with, a number of issues arise. The 511 status code is intended to help mitigate some of them. One example is the "favicon.ico" \[Favicon\] commonly used by browsers to identify the site being accessed. If the favicon for a given site is fetched from a captive portal instead of the intended site (e.g., because the user is unauthenticated), it will often "stick" in the browser's cache (most implementations cache favicons aggressively) beyond the portal session, so that it seems as if the portal's favicon has "taken over" the legitimate site. Another browser-based issue comes about when the Platform for Privacy Preferences \[P3P\] is supported. Depending on how it is implemented, it's possible a browser might interpret a portal's response for the p3p.xml file as the server's, resulting in the privacy policy (or lack thereof) advertised by the portal being interpreted as applying to the intended site. Other Web-based protocols such as WebFinger \[WebFinger\], Cross-Origin Resource Sharing \[CORS\], and Open Authorization \[OAuth2.0\] may also be vulnerable to such issues. Although HTTP is most widely used with Web browsers, a growing number of non-browsing applications use it as a substrate protocol. For example, Web Distributed Authoring and Versioning (WebDAV) \[RFC4918\] and Calendaring Extensions to WebDAV (CalDAV) \[RFC4791\] both use HTTP as the basis (for remote authoring and calendaring, respectively). Using these applications from behind a captive portal can result in spurious errors being presented to the user, and might result in content corruption, in extreme cases. Similarly, other non-browser applications using HTTP can be affected as well, e.g., widgets \[WIDGETS\], software updates, and other specialized software such as Twitter clients and the iTunes Music Store. It should be noted that it's sometimes believed that using HTTP redirection to direct traffic to the portal addresses these issues. However, since many of these uses "follow" redirects, this is not a good solution. Authors' Addresses Mark Nottingham Rackspace EMail: mnot@mnot.net URI: http://www.mnot.net/ Roy T. Fielding Adobe Systems Incorporated 345 Park Ave. San Jose, CA 95110 USA EMail: fielding@gbiv.com URI: http://roy.gbiv.com/ ## Redirect Methods ### 1. WiFi Passpoint (Hotspot 2.0) ### 2. [HTTP Redirect](https://www.wikiwand.com/en/Captive_portal#/HTTP_redirect) When client device first connects, it makes an HTTP request to a special endpoint (what?); if the endpoint returns 200 or 204, then it assume unlimited internet. Otherwise, if it returns 302 (redirect) to the captive portal, the device will know that it needs to auth to gain access. Alternatively, ALL HTTP requests from the client are redirected until auth'ed. Problem: How does this work when the client is HTTPS only? #### ArubaNetworks Example [arubanetworks captive portal](@/router/lightning%20router/captive%20portal/arubanetworks%20captive%20portal.md) #### HTTP 302 Redirect Example: ````http # Client request: GET /index.html HTTP/1.1 Host: www.example.com # Server response: HTTP/1.1 302 Found Location: http://www.iana.org/domains/example/ ```` #### HTTP 511 Example: #### 511 Captive Portal Example For example, a user agent might connect to a network and make the following HTTP request on TCP port 80: ````http GET /index.htm HTTP/1.1 Host: www.example.com ```` Upon receiving such a request, the login server would generate a 511 response: ````http HTTP/1.1 511 Network Authentication Required Content-Type: text/html ```` ````html <title>Network Authentication Required</title> <meta content="0; url=https://login.example.net/" http-equiv=refresh> <p>You need to <a href=https://login.example.net/> authenticate with the local network</a> in order to gain access.</p> ```` Here, the 511 status code assures that non-browser clients will not interpret the response as being from the origin server, and the META HTML element redirects the user agent to the login server. ### 3. ICMP Redirect TODO ### 4. DNS Redirect Use [DNS Hijacking](https://www.wikiwand.com/en/DNS_hijacking) to return IP of captive portal for all DNS requests until client is auth'ed. DNS response should use TTL=0 to avoid poisoning client's DNS cache. Problem: how does this work if the client has their own DNS server configured (e.g. 8.8.8.8)? Could do DNS packet rewriting I guess... Problem: when the client looks up `google.com`, what if their local DNS cache is already hot? They will never make a DNS request that we can rewrite. \] <main><div></div><div><form class=d-none id=search-bar><div class=container><div class="row justify-content-center"><div class="col col-lg-11 col-xl-9" id=search-container><input aria-label="Search notes..." class="form-control is-search" placeholder="Search notes..." autocomplete=off id=userinput type=search><div class="shadow rounded" id=suggestions></div></div></div></div></form><script defer src=https://phlip9.com/notes/js/elasticlunr.min.js></script><script defer src=https://phlip9.com/notes/search_index.en.js></script><script defer src=https://phlip9.com/notes/js/search.js></script>